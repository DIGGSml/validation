<!DOCTYPE HTML>
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>DIGGS Validation Report</title>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/theme/eclipse.min.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/dialog/dialog.min.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/fold/foldgutter.min.css">
      <style>
/* CSS Variables for consistent colors and spacing */
:root {
    /* Severity colors */
    --color-error-bg: #fdd5d1;
    --color-error-border: #b02819;
    --color-warning-bg: #fde5be;
    --color-warning-border: #9c7008;
    --color-info-bg: #d1e7f2;
    --color-info-border: #0b68a7;
    --color-success-bg: #e9f7ef;
    --color-success-border: #2ecc71;
    
    /* Banner specific variations */
    --color-error-banner: #f5b7b1;
    --color-warning-banner: #fae5d3;
    --color-info-banner: #d4e6f1;
    --color-success-banner: #d4efdf;

    /* Highlight Colors */
    --color-highlight-bg: rgba(111, 172, 202, 0.5); /* Blue-gray with 50% transparency for selection */
    --color-search-match: rgba(255, 140, 0, 0.3); /* Light orange for search matches */
    
    /* Common spacing values */
    --spacing-xs: 0px;
    --spacing-sm: 2px;
    --spacing-md: 5px;
    --spacing-lg: 10px;
    --spacing-xl: 20px;
    --spacing-xxl: 30px;
    
    /* Table dimensions */
    --col-1-width: 80px;
    --col-2-width: 100px;
    --col-3-width: 150px;
    --col-4-width: 600px;
}

/* Base styles */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f5f5f5;
    color: #333;
    line-height: 1.6;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    background-color: white;
    padding: 0 var(--spacing-xxl) var(--spacing-xl);
    border-radius: 8px;
    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.3);
}

/* Header styles */
h1 {
    color: #2c3e50;
    text-align: center;
    margin-bottom: var(--spacing-xs);
    padding-bottom: var(--spacing-xs);
    width: 100%;
}

.header-container {
    position: relative;
    text-align: center;
    border-bottom: 2px solid #f0f0f0;
    padding-bottom: var(--spacing-xs);
    margin-top: var(--spacing-xs);
    margin-bottom: var(--spacing-md);
    height: auto;
}

.header-logo {
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 150px;
}

/* Validation result styles - base classes for colors */
.error {
    background-color: var(--color-error-bg);
    border-left: 4px solid var(--color-error-border);
}

.warning {
    background-color: var(--color-warning-bg);
    border-left: 4px solid var(--color-warning-border);
}

.info {
    background-color: var(--color-info-bg);
    border-left: 4px solid var(--color-info-border);
}

.success {
    background-color: var(--color-success-bg);
    border-left: 4px solid var(--color-success-border);
}

/* Summary banner - override background colors */
.summary-banner {
    padding: var(--spacing-xs);
    margin: var(--spacing-sm);
    text-align: center;
    border-radius: 4px;
    font-weight: bold;
    font-size: 18px;
}

.summary-banner.success { background-color: var(--color-success-banner); }
.summary-banner.info { background-color: var(--color-info-banner); }
.summary-banner.warning { background-color: var(--color-warning-banner); }
.summary-banner.error { background-color: var(--color-error-banner); }

/* Table styles */
.table-container {
    max-height: 350px;
    overflow-y: auto;
    margin-bottom: var(--spacing-md);
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: var(--spacing-xs);
    font-size: 13px;
    table-layout: fixed;
    line-height: 1.2;
}

/* Column widths */
table th:nth-child(1), table td:nth-child(1) { width: var(--col-1-width); }
table th:nth-child(2), table td:nth-child(2) { width: var(--col-2-width); }
table th:nth-child(3), table td:nth-child(3) { width: var(--col-3-width); }
table th:nth-child(4), table td:nth-child(4) { width: var(--col-4-width); }
table th:nth-child(5), table td:nth-child(5) { width: auto; }

th, td {
    padding: 8px;
    text-align: left;
    border-bottom: 1px solid black;
    vertical-align: middle;
    word-wrap: break-word;
    overflow-wrap: break-word;
    line-height: 1.1;
}

/* Headers */
th {
    background-color: #f2f2f2;
    position: sticky;
    top: 0;
    z-index: 10;
    white-space: nowrap;
    padding: 5px 8px
    ;
}

/* Severity badges */
.severity-badge {
    display: inline-block;
    padding: 2px 6px;
    border-radius: 4px;
    font-weight: bold;
    color: white;
    margin: 0 3px;
    line-height: 1;
}

.severity-badge.error { background-color: var(--color-error-border); }
.severity-badge.warning { background-color: var(--color-warning-border); }
.severity-badge.info { background-color: var(--color-info-border); }

/* XML content styles */
/* Source XML in table - sans-serif and transparent background */
table td pre.source-xml {
    font-family: sans-serif;
    font-size: inherit;
    white-space: pre-wrap;
    word-wrap: break-word;
    overflow-wrap: break-word;
    word-break: break-word;
    background-color: transparent;
    padding: 8px;
    margin: 0;
    display: inline;
    line-height: 1.1;
    text-indent:0
}

/* Source XML outside table (editor box) - monospace */
.source-xml {
    font-family: monospace;
    font-size: inherit;
    white-space: pre-wrap;
    word-break: break-all;
    background-color: #f5f5f5;
    padding: 0;
    border-radius: 4px;
    margin: 0;
    max-width: 100%;
    overflow-x: auto;
    overflow-wrap: break-word;
}

/* Controls and filter sections */
.controls {
    display: flex;
    justify-content: space-between;
    margin-top: var(--spacing-md);
    padding: var(--spacing-sm);
    background-color: #f8f9fa;
    border-radius: 4px;
    position: relative;
}

.filter-controls {
    display: flex;
    align-items: center;
    width: 100%;
    justify-content: center;
}

.section-title {
    font-weight: bold;
    margin-right: var(--spacing-xl);
    font-size: 16px;
    text-align: left;
    position: absolute;
    left: var(--spacing-sm);
}

.export-controls {
    position: absolute;
    right: var(--spacing-sm);
}

/* Common button styles */
.button-common {
    padding: 5px 10px;
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

.button-common:hover {
    background-color: #2980b9;
}

.export-button {
    padding: 5px 10px;
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    margin-left: var(--spacing-lg);
    white-space: nowrap;
}

.export-button:hover {
    background-color: #2980b9;
}

/* Validation summary section */
.validation-summary {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: var(--spacing-xs);
    padding: var(--spacing-sm);
    background-color: #f8f9fa;
    border-radius: 4px;
}

.file-info {
    flex: 1;
    text-align: left;
}

.summary-badges {
    flex: 1;
    text-align: center;
}

.timestamp-info {
    flex: 1;
    text-align: right;
}

/* XML Editor styles */
.editor-container {
    margin-top: var(--spacing-xs);
    border: 1px solid #ddd;
    border-radius: 4px;
    overflow: hidden;
}

.editor-header {
    background-color: #f2f2f2;
    padding: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #ddd;
}

.editor-title {
    font-weight: bold;
    margin: 0;
}

.editor-actions {
    display: flex;
    gap: 10px;
}

.editor-button {
    padding: 5px 10px;
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

.editor-button:hover {
    background-color: #2980b9;
}

.editor-body {
    padding: 0;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease;
    position: relative;
}

.editor-body.open {
    max-height: 500px;
    overflow: visible;
    display: block;
}

/* CodeMirror customizations */
.CodeMirror {
    height: 350px;
    font-family: monospace;
    font-size: 14px;
    line-height: 1.5;
}

.editor-body:not(.open) .CodeMirror {
    display: none;
}

/* Editor status bar */
.editor-statusbar {
    display: flex;
    justify-content: space-between;
    background-color: #f0f0f0;
    padding: 5px 10px;
    border-top: 1px solid #ddd;
    font-size: 12px;
    color: #666;
}

/* CodeMirror highlighting */
/* Current line highlighting */
.CodeMirror-activeline-background {
background-color: rgba(255, 240, 220, 0.3); /* Light orange with transparency */
}

/* All search matches - make sure to use !important to override any conflicting styles */
.CodeMirror-matchingbracket,
.CodeMirror-matchhighlight, 
.cm-matchhighlight {
background-color: var(--color-search-match) !important; /* Light orange */
color: inherit !important;
}

/* Regular matching brackets */
.CodeMirror-matchingbracket {
color: inherit !important;
}

/* The current search match - these are the critical selectors */
.CodeMirror-selectedtext,
.cm-searching,
.CodeMirror-searching,
span.cm-searching,
.CodeMirror-focused .CodeMirror-selectedtext {
background-color: var(--color-highlight-bg) !important; /* Same as regular selection */
color: black !important;
text-decoration: none !important;
border-radius: 2px;
}

/* Regular selection */
.CodeMirror-selected {
background-color: var(--color-highlight-bg) !important;
}

/* XPath link styles */
.xpath-link {
    color: #3498db;
    text-decoration: underline;
    cursor: pointer;
}

.xpath-link:hover {
    color: #2980b9;
}

/* Tooltip styling */
.tooltip {
    position: relative;
    display: inline-block;
}

.tooltip .tooltiptext {
    visibility: hidden;
    width: auto;
    max-width: 500px;
    background-color: #555;
    color: #fff;
    text-align: left;
    border-radius: 6px;
    padding: 5px 10px;
    position: absolute;
    z-index: 50;
    top: -5px;
    left: 105%;
    opacity: 0;
    transition: opacity 0.3s;
    white-space: normal;
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
}

.tooltip:hover .tooltiptext {
    visibility: visible;
    opacity: 1;
}

/* Responsive design */
@media (max-width: 768px) {
    .editor-actions {
        flex-direction: column;
        gap: 5px;
    }

    .CodeMirror {
        font-size: 12px;
    }
}
        </style>
   </head>
   <body>
      <div class="container">
         <div class="header-container"><img src="https://diggsml.org/def/img/diggs-logo.png" alt="DIGGS Logo" class="header-logo"><h1>DIGGS Validation Report</h1>
         </div>
         <div class="validation-summary">
            <div class="file-info"><strong>Document: </strong><span></span></div>
            <div class="summary-badges"><span class="severity-badge error">21 Errors</span><span class="severity-badge warning">5
                  Warnings</span><span class="severity-badge info">2 Info</span></div>
            <div class="timestamp-info"><strong>Timestamp: </strong>2025-05-23T00:14:54.52955-07:00</div>
         </div>
         <div class="summary-banner error">Result: Fail. Correct errors and rescan.</div>
         <div class="controls">
            <div class="filter-controls"><span class="section-title">Validation Report</span><label for="severity-filter">Filter by severity:</label><select id="severity-filter">
                  <option value="all">All</option>
                  <option value="error">Errors</option>
                  <option value="warning">Warnings</option>
                  <option value="info">Info</option></select></div>
            <div class="export-controls"><button id="export-csv" class="export-button">Save Report as CSV</button></div>
         </div>
         <div class="table-container">
            <table id="validation-table">
               <thead>
                  <tr>
                     <th>Severity</th>
                     <th>Location</th>
                     <th>Validation Check</th>
                     <th>Message</th>
                     <th>Element Value</th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/samplingFeature[1]/Borehole[1]/constructionMethod[1]/BoreholeConstructionMethod[1]/gml:name[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/samplingFeature[1]/Borehole[1]/constructionMethod[1]/BoreholeConstructionMethod[1]/gml:name[1]</span></div>
                     </td>
                     <td>CodeType Validation</td>
                     <td>
                        <pre class="source-xml">&lt;gml:name&gt; should reference a DIGGS Standard code list dictionary using a codeSpace attribute. Consider using one of these dictionaries:
     https://diggsml.org/def/codes/DIGGS/0.1/boreholeMethod.xml</pre>
                     </td>
                     <td>
                        <pre class="source-xml">4.25"" Hollow stem auger</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/samplingFeature[1]/Borehole[1]/constructionMethod[2]/BoreholeConstructionMethod[1]/gml:name[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/samplingFeature[1]/Borehole[1]/constructionMethod[2]/BoreholeConstructionMethod[1]/gml:name[1]</span></div>
                     </td>
                     <td>CodeType Validation</td>
                     <td>
                        <pre class="source-xml">&lt;gml:name&gt; should reference a DIGGS Standard code list dictionary using a codeSpace attribute. Consider using one of these dictionaries:
     https://diggsml.org/def/codes/DIGGS/0.1/boreholeMethod.xml</pre>
                     </td>
                     <td>
                        <pre class="source-xml">NQ</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/samplingFeature[1]/Borehole[1]/constructionMethod[3]/BoreholeConstructionMethod[1]/gml:name[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/samplingFeature[1]/Borehole[1]/constructionMethod[3]/BoreholeConstructionMethod[1]/gml:name[1]</span></div>
                     </td>
                     <td>CodeType Validation</td>
                     <td>
                        <pre class="source-xml">&lt;gml:name&gt; should reference a DIGGS Standard code list dictionary using a codeSpace attribute. Consider using one of these dictionaries:
     https://diggsml.org/def/codes/DIGGS/0.1/boreholeMethod.xml</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Drill Method</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/samplingFeature[1]/Borehole[1]/constructionMethod[4]/BoreholeConstructionMethod[1]/gml:name[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/samplingFeature[1]/Borehole[1]/constructionMethod[4]/BoreholeConstructionMethod[1]/gml:name[1]</span></div>
                     </td>
                     <td>CodeType Validation</td>
                     <td>
                        <pre class="source-xml">&lt;gml:name&gt; should reference a DIGGS Standard code list dictionary using a codeSpace attribute. Consider using one of these dictionaries:
     https://diggsml.org/def/codes/DIGGS/0.1/boreholeMethod.xml</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Drill Method</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/samplingFeature[1]/Borehole[1]/boreholeType[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/samplingFeature[1]/Borehole[1]/boreholeType[1]</span></div>
                     </td>
                     <td>CodeType Validation</td>
                     <td>
                        <pre class="source-xml">&lt;boreholeType&gt; should reference a DIGGS Standard code list dictionary using a codeSpace attribute. Consider using one of these dictionaries:
     https://diggsml.org/def/codes/DIGGS/0.1/boreholeType.xml</pre>
                     </td>
                     <td>
                        <pre class="source-xml">BH</pre>
                     </td>
                  </tr>
                  <tr class="warning">
                     <td><span class="severity-badge warning">WARNING</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/project[1]/Project[1]/role[2]/Role[1]/rolePerformed[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/project[1]/Project[1]/role[2]/Role[1]/rolePerformed[1]</span></div>
                     </td>
                     <td>CodeType Validation</td>
                     <td>
                        <pre class="source-xml">&lt;rolePerformed&gt; references a custom dictionary ("https://diggsml.org/schema-dev/Dictionary_diggs.xsd#operator") which may limit interoperability. Consider using a DIGGS Standard code list dictionary:
     https://diggsml.org/def/codes/DIGGS/0.1/roles.xml</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Operator</pre>
                     </td>
                  </tr>
                  <tr class="warning">
                     <td><span class="severity-badge warning">WARNING</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/project[1]/Project[1]/role[6]/Role[1]/rolePerformed[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/project[1]/Project[1]/role[6]/Role[1]/rolePerformed[1]</span></div>
                     </td>
                     <td>CodeType Validation</td>
                     <td>
                        <pre class="source-xml">&lt;rolePerformed&gt; references a custom dictionary ("./roles.xml#project_engineer") which may limit interoperability. Consider using a DIGGS Standard code list dictionary:
     https://diggsml.org/def/codes/DIGGS/0.1/roles.xml</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Project Engineer</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/samplingFeature[1]/Borehole[1]/constructionMethod[1]/BoreholeConstructionMethod[1]/role[3]/Role[1]/rolePerformed[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/samplingFeature[1]/Borehole[1]/constructionMethod[1]/BoreholeConstructionMethod[1]/role[3]/Role[1]/rolePerformed[1]</span></div>
                     </td>
                     <td>CodeType Validation</td>
                     <td>
                        <pre class="source-xml">&lt;rolePerformed&gt; should reference a DIGGS Standard code list dictionary using a codeSpace attribute. Consider using one of these dictionaries:
     https://diggsml.org/def/codes/DIGGS/0.1/roles.xml</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Operator</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/samplingFeature[1]/Borehole[1]/constructionMethod[2]/BoreholeConstructionMethod[1]/role[3]/Role[1]/rolePerformed[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/samplingFeature[1]/Borehole[1]/constructionMethod[2]/BoreholeConstructionMethod[1]/role[3]/Role[1]/rolePerformed[1]</span></div>
                     </td>
                     <td>CodeType Validation</td>
                     <td>
                        <pre class="source-xml">&lt;rolePerformed&gt; should reference a DIGGS Standard code list dictionary using a codeSpace attribute. Consider using one of these dictionaries:
     https://diggsml.org/def/codes/DIGGS/0.1/roles.xml</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Operator</pre>
                     </td>
                  </tr>
                  <tr class="warning">
                     <td><span class="severity-badge warning">WARNING</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/samplingFeature[2]/Well[1]/role[1]/Role[1]/rolePerformed[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/samplingFeature[2]/Well[1]/role[1]/Role[1]/rolePerformed[1]</span></div>
                     </td>
                     <td>CodeType Validation</td>
                     <td>
                        <pre class="source-xml">&lt;rolePerformed&gt; references a custom dictionary ("https://google.com/def/codes/DIGGS/0.1/roles.xml#drilling_contractor") which may limit interoperability. Consider using a DIGGS Standard code list dictionary:
     https://diggsml.org/def/codes/DIGGS/0.1/roles.xml</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Drilling Contractor</pre>
                     </td>
                  </tr>
                  <tr class="info">
                     <td><span class="severity-badge info">INFO</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/project[1]/Project[1]/gml:name[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/project[1]/Project[1]/gml:name[1]</span></div>
                     </td>
                     <td>Dictionary Validation</td>
                     <td>
                        <pre class="source-xml">Check 1:
The value of gml:name cannot be validated against a code list dictionary. If "OGC" references an authority, be sure that the value "20250110 - DIGGS Challenge" is a valid term controlled by OGC.</pre>
                     </td>
                     <td>
                        <pre class="source-xml">20250110 - DIGGS Challenge</pre>
                     </td>
                  </tr>
                  <tr class="warning">
                     <td><span class="severity-badge warning">WARNING</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/project[1]/Project[1]/role[1]/Role[1]/rolePerformed[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/project[1]/Project[1]/role[1]/Role[1]/rolePerformed[1]</span></div>
                     </td>
                     <td>Dictionary Validation</td>
                     <td>
                        <pre class="source-xml">Check 3:
The resource at "https://diggsml.org/def/codes/DIGGS/0.1/unknown.xml" could not be accessed.</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Client</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/project[1]/Project[1]/role[2]/Role[1]/rolePerformed[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/project[1]/Project[1]/role[2]/Role[1]/rolePerformed[1]</span></div>
                     </td>
                     <td>Dictionary Validation</td>
                     <td>
                        <pre class="source-xml">Check 4:
The resource at "https://diggsml.org/schema-dev/Dictionary_diggs.xsd" 
 is not a DIGGS code list dictionary.</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Operator</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/project[1]/Project[1]/role[3]/Role[1]/rolePerformed[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/project[1]/Project[1]/role[3]/Role[1]/rolePerformed[1]</span></div>
                     </td>
                     <td>Dictionary Validation</td>
                     <td>
                        <pre class="source-xml">Check 5:
Code "manager" is not found in the code list dictionary at "https://diggsml.org/def/codes/DIGGS/0.1/roles.xml".</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Project Manager</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/project[1]/Project[1]/role[4]/Role[1]/rolePerformed[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/project[1]/Project[1]/role[4]/Role[1]/rolePerformed[1]</span></div>
                     </td>
                     <td>Dictionary Validation</td>
                     <td>
                        <pre class="source-xml">Check 6:
"drilling_contractor" is not a valid code for  &lt;rolePerformed&gt; in this specific context. This element is not matched by any of these allowable xPaths:
     //diggs:samplingFeature//diggs:rolePerformed
     //diggs:samplingActivity//diggs:rolePerformed</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Drilling Contractor</pre>
                     </td>
                  </tr>
                  <tr class="info">
                     <td><span class="severity-badge info">INFO</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/project[1]/Project[1]/role[5]/Role[1]/rolePerformed[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/project[1]/Project[1]/role[5]/Role[1]/rolePerformed[1]</span></div>
                     </td>
                     <td>Dictionary Validation</td>
                     <td>
                        <pre class="source-xml">Check 7:
The value "Lab" in &lt;rolePerformed&gt; does not match any of the names assigned to its definition in "https://diggsml.org/def/codes/DIGGS/0.1/roles.xml". Be sure that "Lab" is a synonymous term.</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Lab</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/samplingFeature[1]/Borehole[1]/constructionMethod[1]/BoreholeConstructionMethod[1]/role[1]/Role[1]/rolePerformed[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/samplingFeature[1]/Borehole[1]/constructionMethod[1]/BoreholeConstructionMethod[1]/role[1]/Role[1]/rolePerformed[1]</span></div>
                     </td>
                     <td>Dictionary Validation</td>
                     <td>
                        <pre class="source-xml">Check 6:
"client" is not a valid code for  &lt;rolePerformed&gt; in this specific context. This element is not matched by any of these allowable xPaths:
     //diggs:project//diggs:rolePerformed</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Logger</pre>
                     </td>
                  </tr>
                  <tr class="warning">
                     <td><span class="severity-badge warning">WARNING</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/samplingFeature[2]/Well[1]/role[1]/Role[1]/rolePerformed[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/samplingFeature[2]/Well[1]/role[1]/Role[1]/rolePerformed[1]</span></div>
                     </td>
                     <td>Dictionary Validation</td>
                     <td>
                        <pre class="source-xml">Check 2:
The code list dictionary "https://google.com/def/codes/DIGGS/0.1/roles.xml" is not on the white list of approved URL's. Choose a DIGGS standard code list dictionary or add this URL to a whiteList.xml parameter file and validate locally.</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Drilling Contractor</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/measurement[1]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[1]/propertyClass[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/measurement[1]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[1]/propertyClass[1]</span></div>
                     </td>
                     <td>Dictionary Validation</td>
                     <td>
                        <pre class="source-xml">Check 6:
"logger" is not a valid code for  &lt;propertyClass&gt; in this specific context. This element is not matched by any of these allowable xPaths:
     //diggs:samplingFeature//diggs:rolePerformed
     //diggs:rolePerformed</pre>
                     </td>
                     <td>
                        <pre class="source-xml">N-Value</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/measurement[2]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[2]/propertyClass[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/measurement[2]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[2]/propertyClass[1]</span></div>
                     </td>
                     <td>Dictionary Validation</td>
                     <td>
                        <pre class="source-xml">Check 8:
The property "N60" is invalid for this type of measurement. "N60" is only allowed in the following types of measurements: 
     DrivenPenetrationTest.</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Plastic Limit</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/measurement[4]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[1]/propertyClass[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/measurement[4]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[1]/propertyClass[1]</span></div>
                     </td>
                     <td>Dictionary Validation</td>
                     <td>
                        <pre class="source-xml">Check 11:
"Coefficient of Uniformity" requires a unit of measure. Add a &lt;uom&gt; element following this &lt;propertyClass&gt;.</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Coefficient of Uniformity</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/measurement[4]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[9]/propertyClass[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/measurement[4]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[9]/propertyClass[1]</span></div>
                     </td>
                     <td>Dictionary Validation</td>
                     <td>
                        <pre class="source-xml">Check 10:
"AASHTO Symbol" is defined as unitless. The sibling &lt;uom&gt; element should be removed.</pre>
                     </td>
                     <td>
                        <pre class="source-xml">AASHTO Symbol</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/measurement[4]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[10]/propertyClass[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/measurement[4]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[10]/propertyClass[1]</span></div>
                     </td>
                     <td>Dictionary Validation</td>
                     <td>
                        <pre class="source-xml">Check 9:
The data type for "AASHTO Group Index" should be "string", but instead is defined as "integer". The value of the sibling &lt;typeData&gt; element should match the data type defined in the dictionary.</pre>
                     </td>
                     <td>
                        <pre class="source-xml">AASHTO Group Index</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/measurement[4]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[11]/propertyClass[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/measurement[4]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[11]/propertyClass[1]</span></div>
                     </td>
                     <td>Dictionary Validation</td>
                     <td>
                        <pre class="source-xml">Check 11:
"d15" requires a unit of measure. Add a &lt;uom&gt; element following this &lt;propertyClass&gt;.</pre>
                     </td>
                     <td>
                        <pre class="source-xml">d15</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/measurement[4]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[12]/propertyClass[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/measurement[4]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[12]/propertyClass[1]</span></div>
                     </td>
                     <td>Dictionary Validation</td>
                     <td>
                        <pre class="source-xml">Check 11:
"d85" requires a unit of measure. Add a &lt;uom&gt; element following this &lt;propertyClass&gt;.</pre>
                     </td>
                     <td>
                        <pre class="source-xml">d85</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/measurement[4]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[16]/propertyClass[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/measurement[4]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[16]/propertyClass[1]</span></div>
                     </td>
                     <td>Dictionary Validation</td>
                     <td>
                        <pre class="source-xml">Check 12:
The unit of measure "mm" is not valid for quantity class "force per force". Valid units include: %, Euc, N/N, kgf/kgf, lbf/lbf.</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Clay Fraction &lt; 5 Micron</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/measurement[4]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[17]/propertyClass[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/measurement[4]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[17]/propertyClass[1]</span></div>
                     </td>
                     <td>Dictionary Validation</td>
                     <td>
                        <pre class="source-xml">Check 9:
The data type for "Percent Silt" should be "double", but instead is defined as "string". The value of the sibling &lt;typeData&gt; element should match the data type defined in the dictionary.</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Percent Silt</pre>
                     </td>
                  </tr>
                  <tr class="error">
                     <td><span class="severity-badge error">ERROR</span></td>
                     <td>
                        <div class="tooltip"><span class="xpath-link" data-xpath="/Diggs[1]/measurement[4]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[18]/propertyClass[1]"> View Element </span><span class="tooltiptext">/Diggs[1]/measurement[4]/Test[1]/outcome[1]/TestResult[1]/results[1]/ResultSet[1]/parameters[1]/PropertyParameters[1]/properties[1]/Property[18]/propertyClass[1]</span></div>
                     </td>
                     <td>Dictionary Validation</td>
                     <td>
                        <pre class="source-xml">Check 11:
"Percent Cobbles" requires a unit of measure. Add a &lt;uom&gt; element following this &lt;propertyClass&gt;.</pre>
                     </td>
                     <td>
                        <pre class="source-xml">Percent Cobbles</pre>
                     </td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div class="editor-container">
            <div class="editor-header">
               <h3 class="editor-title">XML Editor</h3>
               <div class="editor-actions"><button class="editor-button" id="toggle-editor">Show/Hide Editor</button><button class="editor-button" id="save-xml">Save XML</button><button class="editor-button" id="format-xml">Format XML</button><button class="editor-button" id="find-xml">Find</button></div>
            </div>
            <div class="editor-body" id="editor-body"><textarea id="xml-editor" style="display: none;">&lt;Diggs xmlns="http://diggsml.org/schema-dev" xmlns:diggs="http://diggsml.org/schema-dev" xmlns:g3.3="http://www.opengis.net/gml/3.3/ce" xmlns:glr="http://www.opengis.net/gml/3.3/lr" xmlns:glrov="http://www.opengis.net/gml/3.3/lrov" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:witsml="http://www.witsml.org/schemas/131" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://diggsml.org/schema-dev https://diggsml.org/schema-dev/Diggs.xsd" gml:id="NTM1YTEwMzUtYmRmZS00NTIxLTk1OWItZjk4NGEwOWRjZDcx"&gt;
	&lt;documentInformation&gt;
		&lt;DocumentInformation gml:id="DGS36A3-17AD-1BC-F9D7-37B5A"&gt;
			&lt;creationDate&gt;2025-04-04&lt;/creationDate&gt;
			&lt;author&gt;
				&lt;BusinessAssociate gml:id="DGS420-1522-2945-594A-3B38A"&gt;
					&lt;gml:name&gt;Dataforensics&lt;/gml:name&gt;
				&lt;/BusinessAssociate&gt;
			&lt;/author&gt;
			&lt;disclaimer&gt;Not specified in OGC file&lt;/disclaimer&gt;
			&lt;auditTrail&gt;
				&lt;Remark&gt;
					&lt;content&gt;Generated by Dataforensics from OpenGround&lt;/content&gt;
					&lt;remarkDateTime&gt;2025-04-04&lt;/remarkDateTime&gt;
				&lt;/Remark&gt;
			&lt;/auditTrail&gt;
		&lt;/DocumentInformation&gt;
	&lt;/documentInformation&gt;
	&lt;project&gt;
		&lt;Project gml:id="Project_20250110_-_DIGGS_Challenge"&gt;
			&lt;gml:description&gt;Vendor DIGGS Challenge&lt;/gml:description&gt;
			&lt;!-- Fails Check 1 --&gt;
			&lt;gml:name codeSpace="OGC"&gt;20250110 - DIGGS Challenge&lt;/gml:name&gt;

			&lt;!-- internalIdentifier not checked.--&gt;
			&lt;internalIdentifier codeSpace="OGC"&gt;20250110 - DIGGS Challenge&lt;/internalIdentifier&gt;

			&lt;role&gt;
				&lt;Role&gt;
					&lt;!-- Fails Check 3 --&gt;
					&lt;rolePerformed codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/unknown.xml#client"&gt;Client&lt;/rolePerformed&gt;
					&lt;businessAssociate&gt;
						&lt;BusinessAssociate gml:id="DGS4BC5-3D4-D63-36F6-2F2F8"&gt;
							&lt;gml:name&gt;Geo-Institute&lt;/gml:name&gt;
						&lt;/BusinessAssociate&gt;
					&lt;/businessAssociate&gt;
				&lt;/Role&gt;
			&lt;/role&gt;


			&lt;role&gt;
				&lt;Role&gt;
					&lt;!-- Fails Check 4 Not a DIGGS Dictionary--&gt;
					&lt;rolePerformed codeSpace="https://diggsml.org/schema-dev/Dictionary_diggs.xsd#operator"&gt;Operator&lt;/rolePerformed&gt;
					&lt;businessAssociate&gt;
						&lt;BusinessAssociate gml:id="DGS4BC5-3D4-D63-36F6-2F2Fa"&gt;
							&lt;gml:name&gt;Geo-Institute&lt;/gml:name&gt;
						&lt;/BusinessAssociate&gt;
					&lt;/businessAssociate&gt;
				&lt;/Role&gt;
			&lt;/role&gt;

			&lt;role&gt;
				&lt;Role&gt;
					&lt;!-- Fails Check 5 Code is not in dictionary --&gt;
					&lt;rolePerformed codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/roles.xml#manager"&gt;Project Manager&lt;/rolePerformed&gt;
					&lt;businessAssociate&gt;
						&lt;BusinessAssociate gml:id="DGS1A3C-1956-2088-569A-123E6"&gt;
							&lt;gml:name&gt;Big Dog Drillers&lt;/gml:name&gt;
						&lt;/BusinessAssociate&gt;
					&lt;/businessAssociate&gt;
				&lt;/Role&gt;
			&lt;/role&gt;

			&lt;role&gt;
				&lt;Role&gt;
					&lt;!-- Fails Check 6 Drilling Contractor not allowed in project --&gt;
					&lt;rolePerformed codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/roles.xml#drilling_contractor"&gt;Drilling Contractor&lt;/rolePerformed&gt;
					&lt;businessAssociate&gt;
						&lt;BusinessAssociate gml:id="DGS1A3C-1956-2088-569A-123E7"&gt;
							&lt;gml:name&gt;Big Dog Drillers&lt;/gml:name&gt;
						&lt;/BusinessAssociate&gt;
					&lt;/businessAssociate&gt;
				&lt;/Role&gt;
			&lt;/role&gt;

			&lt;role&gt;
				&lt;Role&gt;
					&lt;!-- Fails Check 7 The name Lab is not a name for this definigion in the dictionary --&gt;
					&lt;rolePerformed codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/roles.xml#laboratory_name"&gt;Lab&lt;/rolePerformed&gt;
					&lt;businessAssociate&gt;
						&lt;BusinessAssociate gml:id="DGS1A3C-1956-2088-569A-123E0"&gt;
							&lt;gml:name&gt;Big Dog Drillers&lt;/gml:name&gt;
						&lt;/BusinessAssociate&gt;
					&lt;/businessAssociate&gt;
				&lt;/Role&gt;
			&lt;/role&gt;

			&lt;!--Check 7: Local file check. Should pass validation, codeSpace references a valid local dictionary located within the same directory as the xml instance (as in a zip file) --&gt;
			&lt;role&gt;
				&lt;Role&gt;
					&lt;rolePerformed codeSpace="./roles.xml#project_engineer"&gt;Project Engineer&lt;/rolePerformed&gt;
					&lt;businessAssociate&gt;
						&lt;BusinessAssociate gml:id="DGS5B58-19E-2B05-B408-2492D"&gt;
							&lt;gml:name&gt;Jim Halpert&lt;/gml:name&gt;
						&lt;/BusinessAssociate&gt;
					&lt;/businessAssociate&gt;
				&lt;/Role&gt;
			&lt;/role&gt;


			&lt;locality&gt;
				&lt;Locality gml:id="DGS2241-57B-419B-479A-33DF8"&gt;
					&lt;gml:description&gt;Somewhere Over the Rainbow&lt;/gml:description&gt;
				&lt;/Locality&gt;
			&lt;/locality&gt;
		&lt;/Project&gt;
	&lt;/project&gt;

	&lt;samplingFeature&gt;
		&lt;Borehole gml:id="Location_BH-33"&gt;
			&lt;gml:name&gt;BH-33&lt;/gml:name&gt;
			&lt;!-- internalIdentifier not checked.--&gt;
			&lt;internalIdentifier codeSpace="OGC"&gt;BH-33&lt;/internalIdentifier&gt;
			&lt;status&gt;FINAL&lt;/status&gt;
			&lt;remark&gt;
				&lt;Remark&gt;
					&lt;content&gt;Notes go here&lt;/content&gt;
				&lt;/Remark&gt;
			&lt;/remark&gt;
			&lt;investigationTarget&gt;Natural Ground&lt;/investigationTarget&gt;
			&lt;projectRef xlink:href="#Project_20250110_-_DIGGS_Challenge"/&gt;
			&lt;locality&gt;
				&lt;Locality gml:id="DGS7DAA-64B-D05-9F36-1D2B2"&gt;
					&lt;gml:description&gt;Location description&lt;/gml:description&gt;
					&lt;station uom="ft"&gt;1553.2&lt;/station&gt;
					&lt;offset uom="ft"&gt;25.00&lt;/offset&gt;
					&lt;offsetDirection&gt;right&lt;/offsetDirection&gt;
				&lt;/Locality&gt;
			&lt;/locality&gt;
			&lt;referencePoint&gt;
				&lt;PointLocation srsDimension="3" srsName="https://www.opengis.net/def/crs-compound?1=http://www.opengis.net/def/crs/EPSG/0/4326%262=http://www.opengis.net/def/crs/EPSG/0/6360" uomLabels="dega dega ft" gml:id="pl-BH-33"&gt;
					&lt;gml:pos&gt;-84.247361 33.854467 318.00&lt;/gml:pos&gt;
				&lt;/PointLocation&gt;
			&lt;/referencePoint&gt;


			&lt;centerLine&gt;
				&lt;LinearExtent srsDimension="3" srsName="https://www.opengis.net/def/crs-compound?1=http://www.opengis.net/def/crs/EPSG/0/4326%262=http://www.opengis.net/def/crs/EPSG/0/6360" uomLabels="dega dega ft" gml:id="cl-BH-33"&gt;
					&lt;gml:posList&gt;-84.247361 33.854467 318.00 -84.247361 33.854467 278&lt;/gml:posList&gt;
				&lt;/LinearExtent&gt;
			&lt;/centerLine&gt;

			&lt;linearReferencing&gt;
				&lt;LinearSpatialReferenceSystem gml:id="lsr-BH-33"&gt;
					&lt;!-- gml:dentifier not checked.--&gt;
					&lt;gml:identifier codeSpace="G-I"&gt;lsr_BH-33-lsr&lt;/gml:identifier&gt;
					&lt;glr:linearElement xlink:href="#cl-BH-33"/&gt;
					&lt;glr:lrm&gt;
						&lt;glr:LinearReferencingMethod gml:id="lrm-BH-33"&gt;
							&lt;glr:name&gt;chainage&lt;/glr:name&gt;
							&lt;glr:type&gt;absolute&lt;/glr:type&gt;
							&lt;glr:units&gt;ft&lt;/glr:units&gt;
						&lt;/glr:LinearReferencingMethod&gt;
					&lt;/glr:lrm&gt;
				&lt;/LinearSpatialReferenceSystem&gt;
			&lt;/linearReferencing&gt;
			&lt;plunge uom="dega"&gt;-90&lt;/plunge&gt;
			&lt;bearing uom="dega"&gt;0&lt;/bearing&gt;
			&lt;whenConstructed&gt;
				&lt;TimeInterval gml:id="DGS15E4-8CA-4290-AA64-12A36"&gt;
					&lt;start&gt;2015-06-04T13:32:59&lt;/start&gt;
					&lt;end&gt;2015-06-04T23:34:01&lt;/end&gt;
				&lt;/TimeInterval&gt;
			&lt;/whenConstructed&gt;
			&lt;totalMeasuredDepth uom="ft"&gt;40.00&lt;/totalMeasuredDepth&gt;
			&lt;boreholeType&gt;BH&lt;/boreholeType&gt;

			&lt;backfill&gt;
				&lt;Backfill gml:id="DGS81E4-1DA-3037-AB63-44C71"&gt;
					&lt;backfillLayer&gt;
						&lt;BackfillLayer gml:id="DGS5D85-2F-AA2-83B3-356D1"&gt;
							&lt;backfillInterval&gt;
								&lt;LinearExtent gml:id="DGS82DE-485-2BFB-2D7C-4CCB1" srsName="#lsr-BH-33" srsDimension="1"&gt;
									&lt;gml:posList&gt;0.00 5.00&lt;/gml:posList&gt;
								&lt;/LinearExtent&gt;
							&lt;/backfillInterval&gt;
							&lt;backfillMaterial&gt;Concrete&lt;/backfillMaterial&gt;
						&lt;/BackfillLayer&gt;
					&lt;/backfillLayer&gt;
					&lt;backfillLayer&gt;
						&lt;BackfillLayer gml:id="DGS731D-466-8DD-C962-13976"&gt;
							&lt;backfillInterval&gt;
								&lt;LinearExtent gml:id="DGS922A-10DA-2500-7C81-1CE30" srsName="#lsr-BH-33" srsDimension="1"&gt;
									&lt;gml:posList&gt;5.00 14.00&lt;/gml:posList&gt;
								&lt;/LinearExtent&gt;
							&lt;/backfillInterval&gt;
							&lt;backfillMaterial&gt;Bentonite&lt;/backfillMaterial&gt;
						&lt;/BackfillLayer&gt;
					&lt;/backfillLayer&gt;
					&lt;backfillLayer&gt;
						&lt;BackfillLayer gml:id="DGS7E1D-D30-2ECB-7A6E-5F738"&gt;
							&lt;remark&gt;
								&lt;Remark&gt;
									&lt;content&gt;#40 Ottawa Sand&lt;/content&gt;
								&lt;/Remark&gt;
							&lt;/remark&gt;
							&lt;backfillInterval&gt;
								&lt;LinearExtent gml:id="DGSA009-13DD-32EC-81B8-16217" srsName="#lsr-BH-33" srsDimension="1"&gt;
									&lt;gml:posList&gt;14.00 25.00&lt;/gml:posList&gt;
								&lt;/LinearExtent&gt;
							&lt;/backfillInterval&gt;
							&lt;backfillMaterial&gt;Sand backfill&lt;/backfillMaterial&gt;
						&lt;/BackfillLayer&gt;
					&lt;/backfillLayer&gt;
					&lt;backfillLayer&gt;
						&lt;BackfillLayer gml:id="DGSD28-1372-1829-9940-597CA"&gt;
							&lt;backfillInterval&gt;
								&lt;LinearExtent gml:id="DGS8AE1-459-2CB-B281-A3E8" srsName="#lsr-BH-33" srsDimension="1"&gt;
									&lt;gml:posList&gt;25.00 29.00&lt;/gml:posList&gt;
								&lt;/LinearExtent&gt;
							&lt;/backfillInterval&gt;
							&lt;backfillMaterial&gt;Bentonite&lt;/backfillMaterial&gt;
						&lt;/BackfillLayer&gt;
					&lt;/backfillLayer&gt;
					&lt;backfillLayer&gt;
						&lt;BackfillLayer gml:id="DGS19EA-1848-30B0-AE9C-4ADD3"&gt;
							&lt;remark&gt;
								&lt;Remark&gt;
									&lt;content&gt;#40 Ottawa Sand&lt;/content&gt;
								&lt;/Remark&gt;
							&lt;/remark&gt;
							&lt;backfillInterval&gt;
								&lt;LinearExtent gml:id="DGS5952-840-2053-3D5B-11A90" srsName="#lsr-BH-33" srsDimension="1"&gt;
									&lt;gml:posList&gt;29.00 35.00&lt;/gml:posList&gt;
								&lt;/LinearExtent&gt;
							&lt;/backfillInterval&gt;
							&lt;backfillMaterial&gt;Sand backfill&lt;/backfillMaterial&gt;
						&lt;/BackfillLayer&gt;
					&lt;/backfillLayer&gt;
					&lt;backfillLayer&gt;
						&lt;BackfillLayer gml:id="DGS13C-14FC-4275-236E-D78C"&gt;
							&lt;backfillInterval&gt;
								&lt;LinearExtent gml:id="DGS653D-76F-2E76-9696-9F02" srsName="#lsr-BH-33" srsDimension="1"&gt;
									&lt;gml:posList&gt;35.00 40.00&lt;/gml:posList&gt;
								&lt;/LinearExtent&gt;
							&lt;/backfillInterval&gt;
							&lt;backfillMaterial&gt;Concrete&lt;/backfillMaterial&gt;
						&lt;/BackfillLayer&gt;
					&lt;/backfillLayer&gt;
				&lt;/Backfill&gt;
			&lt;/backfill&gt;

			&lt;casing&gt;
				&lt;Casing gml:id="DGS450A-1179-B4E-2275-32797"&gt;
					&lt;remark&gt;
						&lt;Remark&gt;
							&lt;content&gt;remarks&lt;/content&gt;
						&lt;/Remark&gt;
					&lt;/remark&gt;
					&lt;casingLocation&gt;
						&lt;LinearExtent gml:id="DGS1869-1943-BC1-CCF-5C43E" srsName="#lsr-BH-33" srsDimension="1"&gt;
							&lt;gml:posList&gt;0 30.00&lt;/gml:posList&gt;
						&lt;/LinearExtent&gt;
					&lt;/casingLocation&gt;
					&lt;!-- Should fail Schematron test --&gt;
					&lt;casingOutsideDiameter uom="in"&gt;-5&lt;/casingOutsideDiameter&gt;
				&lt;/Casing&gt;
			&lt;/casing&gt;

			&lt;constructionMethod&gt;
				&lt;BoreholeConstructionMethod gml:id="DGS76F5-BAE-4BCA-F472-28DE7"&gt;
					&lt;gml:name&gt;4.25"" Hollow stem auger&lt;/gml:name&gt;
					&lt;role&gt;
						&lt;Role&gt;
							&lt;!-- Fails Check 6. Client cannot be used in borehole context --&gt;
							&lt;rolePerformed codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/roles.xml#client"&gt;Logger&lt;/rolePerformed&gt;
							&lt;timePerformed&gt;
								&lt;TimeInterval gml:id="DGS9336-DF1-4311-205-3849C"&gt;
									&lt;start&gt;2015-06-04T18:32:59&lt;/start&gt;
								&lt;/TimeInterval&gt;
							&lt;/timePerformed&gt;
							&lt;businessAssociate&gt;
								&lt;BusinessAssociate gml:id="DGS2E28-13C7-644-F1F4-29766"&gt;
									&lt;gml:name&gt;Scott Deaton&lt;/gml:name&gt;
								&lt;/BusinessAssociate&gt;
							&lt;/businessAssociate&gt;
						&lt;/Role&gt;
					&lt;/role&gt;
					&lt;role&gt;
						&lt;Role&gt;
							&lt;rolePerformed codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/roles.xml#drilling_contractor"&gt;Drilling Contractor&lt;/rolePerformed&gt;
							&lt;businessAssociate&gt;
								&lt;BusinessAssociate gml:id="DGS5D6E-DE1-1D17-105-30037"&gt;
									&lt;gml:name&gt;Big Dog Drillers&lt;/gml:name&gt;
								&lt;/BusinessAssociate&gt;
							&lt;/businessAssociate&gt;
						&lt;/Role&gt;
					&lt;/role&gt;
					&lt;role&gt;
						&lt;Role&gt;
							&lt;!-- Fails codeType validation. rolePerformed should reference a code list dictionary. --&gt;
							&lt;rolePerformed&gt;Operator&lt;/rolePerformed&gt;
							&lt;businessAssociate&gt;
								&lt;BusinessAssociate gml:id="DGS987F-7CF-1872-6BCF-439F4"&gt;
									&lt;gml:name&gt;Jim Bob&lt;/gml:name&gt;
								&lt;/BusinessAssociate&gt;
							&lt;/businessAssociate&gt;
						&lt;/Role&gt;
					&lt;/role&gt;
					&lt;remark&gt;
						&lt;Remark&gt;
							&lt;content&gt;remarks 1&lt;/content&gt;
						&lt;/Remark&gt;
					&lt;/remark&gt;
					&lt;location&gt;
						&lt;LinearExtent gml:id="DGS49B9-33F-2B24-CF21-424E5" srsName="#lsr-BH-33" srsDimension="1"&gt;
							&lt;gml:posList&gt;0.00 30.00&lt;/gml:posList&gt;
						&lt;/LinearExtent&gt;
					&lt;/location&gt;
					&lt;methodTime&gt;
						&lt;TimeInterval gml:id="DGS7270-1274-4E16-47A8-3DC97"&gt;
							&lt;start&gt;2015-06-04T13:32:59&lt;/start&gt;
							&lt;end&gt;2015-06-04T18:32:59&lt;/end&gt;
						&lt;/TimeInterval&gt;
					&lt;/methodTime&gt;

					&lt;constructionEquipment&gt;
						&lt;Equipment gml:id="DGS720A-7F4-47CE-2241-C4BE"&gt;
							&lt;gml:name&gt;CME 550&lt;/gml:name&gt;
							&lt;class&gt;drill rig&lt;/class&gt;
						&lt;/Equipment&gt;
					&lt;/constructionEquipment&gt;
					&lt;constructionEquipment&gt;
						&lt;CoringDevice gml:id="DGS42A-17AF-3F39-2E5A-673C1"&gt;
							&lt;gml:name&gt;hollow stem auger&lt;/gml:name&gt;
							&lt;class&gt;Coring Device&lt;/class&gt;
							&lt;barrelLength uom="ft"&gt;5.00&lt;/barrelLength&gt;
							&lt;linerType&gt;Barrel Type&lt;/linerType&gt;
						&lt;/CoringDevice&gt;
					&lt;/constructionEquipment&gt;
				&lt;/BoreholeConstructionMethod&gt;
			&lt;/constructionMethod&gt;
			&lt;constructionMethod&gt;
				&lt;BoreholeConstructionMethod gml:id="DGS8B3F-18FF-DE6-9A5D-2BF0B"&gt;
					&lt;gml:name&gt;NQ&lt;/gml:name&gt;
					&lt;role&gt;
						&lt;Role&gt;
							&lt;rolePerformed codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/roles.xml#logger"&gt;Logger&lt;/rolePerformed&gt;
							&lt;timePerformed&gt;
								&lt;TimeInterval gml:id="DGSDC2-C93-6E-6BB1-4BF27"&gt;
									&lt;start&gt;2015-06-04T18:32:59&lt;/start&gt;
								&lt;/TimeInterval&gt;
							&lt;/timePerformed&gt;
							&lt;businessAssociate&gt;
								&lt;BusinessAssociate gml:id="DGS8D4E-97A-1A31-4472-4877A"&gt;
									&lt;gml:name&gt;Scott Deaton&lt;/gml:name&gt;
								&lt;/BusinessAssociate&gt;
							&lt;/businessAssociate&gt;
						&lt;/Role&gt;
					&lt;/role&gt;
					&lt;role&gt;
						&lt;Role&gt;
							&lt;rolePerformed codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/roles.xml#drilling_contractor"&gt;Drilling Contractor&lt;/rolePerformed&gt;
							&lt;businessAssociate&gt;
								&lt;BusinessAssociate gml:id="DGS6803-B44-2FB3-F513-1DED9"&gt;
									&lt;gml:name&gt;Big Dog Drillers&lt;/gml:name&gt;
								&lt;/BusinessAssociate&gt;
							&lt;/businessAssociate&gt;
						&lt;/Role&gt;
					&lt;/role&gt;
					&lt;role&gt;
						&lt;Role&gt;
							&lt;rolePerformed&gt;Operator&lt;/rolePerformed&gt;
							&lt;businessAssociate&gt;
								&lt;BusinessAssociate gml:id="DGS26CC-2D8-84-A5CD-5ED29"&gt;
									&lt;gml:name&gt;James Brown&lt;/gml:name&gt;
								&lt;/BusinessAssociate&gt;
							&lt;/businessAssociate&gt;
						&lt;/Role&gt;
					&lt;/role&gt;
					&lt;remark&gt;
						&lt;Remark&gt;
							&lt;content&gt;remarks 2&lt;/content&gt;
						&lt;/Remark&gt;
					&lt;/remark&gt;
					&lt;location&gt;
						&lt;LinearExtent gml:id="DGS28B-13D6-C57-3997-55D16" srsName="#lsr-BH-33" srsDimension="1"&gt;
							&lt;gml:posList&gt;30.00 40.00&lt;/gml:posList&gt;
						&lt;/LinearExtent&gt;
					&lt;/location&gt;
					&lt;methodTime&gt;
						&lt;TimeInterval gml:id="DGS32E0-2F-309E-1B0C-298D1"&gt;
							&lt;start&gt;2015-06-04T18:32:59&lt;/start&gt;
							&lt;end&gt;2015-06-04T23:32:59&lt;/end&gt;
						&lt;/TimeInterval&gt;
					&lt;/methodTime&gt;

					&lt;constructionEquipment&gt;
						&lt;Equipment gml:id="DGS11D5-AE5-2C75-9546-11278"&gt;
							&lt;gml:name&gt;Arco 9000&lt;/gml:name&gt;
							&lt;class&gt;drill rig&lt;/class&gt;
						&lt;/Equipment&gt;
					&lt;/constructionEquipment&gt;
					&lt;constructionEquipment&gt;
						&lt;CoringDevice gml:id="DGS65F4-517-1B60-1928-2FCC7"&gt;
							&lt;gml:name&gt;NQ core&lt;/gml:name&gt;
							&lt;class&gt;Coring Device&lt;/class&gt;
							&lt;barrelLength uom="ft"&gt;5.00&lt;/barrelLength&gt;
							&lt;linerType&gt;Lexan&lt;/linerType&gt;
						&lt;/CoringDevice&gt;
					&lt;/constructionEquipment&gt;
				&lt;/BoreholeConstructionMethod&gt;
			&lt;/constructionMethod&gt;

			&lt;constructionMethod&gt;
				&lt;BoreholeConstructionMethod gml:id="DGS9DD9-CFA-3680-B897-21FC4"&gt;
					&lt;gml:name&gt;Drill Method&lt;/gml:name&gt;
					&lt;constructionMethod&gt;
						&lt;Specification gml:id="DGS300-AB3-4CC9-8A46-59068"&gt;
							&lt;gml:name/&gt;
							&lt;shortMethodName&gt;Soil Drill&lt;/shortMethodName&gt;
						&lt;/Specification&gt;
					&lt;/constructionMethod&gt;
					&lt;constructionEquipment&gt;
						&lt;Equipment gml:id="DGS7505-161-395B-378A-129C2"&gt;
							&lt;gml:name&gt;CME 1100&lt;/gml:name&gt;
							&lt;class&gt;Drill Rig&lt;/class&gt;
						&lt;/Equipment&gt;
					&lt;/constructionEquipment&gt;
				&lt;/BoreholeConstructionMethod&gt;
			&lt;/constructionMethod&gt;
			&lt;constructionMethod&gt;
				&lt;BoreholeConstructionMethod gml:id="DGS1034-9FF-350-6C8F-2E634"&gt;
					&lt;gml:name&gt;Drill Method&lt;/gml:name&gt;
					&lt;constructionMethod&gt;
						&lt;Specification gml:id="DGS34EC-1024-4180-A3D-2FDDE"&gt;
							&lt;gml:name/&gt;
							&lt;shortMethodName&gt;Rock Core&lt;/shortMethodName&gt;
						&lt;/Specification&gt;
					&lt;/constructionMethod&gt;
					&lt;constructionEquipment&gt;
						&lt;Equipment gml:id="DGS6D96-1103-FB-4233-22AC5"&gt;
							&lt;gml:name&gt;CME 1100&lt;/gml:name&gt;
							&lt;class&gt;Drill Rig&lt;/class&gt;
						&lt;/Equipment&gt;
					&lt;/constructionEquipment&gt;
				&lt;/BoreholeConstructionMethod&gt;
			&lt;/constructionMethod&gt;
			&lt;constructionEvent&gt;
				&lt;BoreholeEvent gml:id="DGS66B4-C4F-DC2-E2FF-1D767"&gt;
					&lt;remark&gt;
						&lt;Remark&gt;
							&lt;content&gt;Rough drilling&lt;/content&gt;
						&lt;/Remark&gt;
					&lt;/remark&gt;
					&lt;location&gt;
						&lt;LinearExtent gml:id="DGS6CD2-A28-16DB-278B-D074" srsName="#lsr-BH-33" srsDimension="1"&gt;
							&lt;gml:posList&gt;18.00 20.00&lt;/gml:posList&gt;
						&lt;/LinearExtent&gt;
					&lt;/location&gt;
				&lt;/BoreholeEvent&gt;
			&lt;/constructionEvent&gt;
			&lt;constructionEvent&gt;
				&lt;BoreholeEvent gml:id="DGS9A6F-2E9-3A0E-7F95-50E6E"&gt;
					&lt;remark&gt;
						&lt;Remark&gt;
							&lt;content&gt;Drill rods chattering&lt;/content&gt;
						&lt;/Remark&gt;
					&lt;/remark&gt;
					&lt;location&gt;
						&lt;LinearExtent gml:id="DGS8F3E-1668-F4C-88BD-1FCB1" srsName="#lsr-BH-33" srsDimension="1"&gt;
							&lt;gml:posList&gt;24.00 25.00&lt;/gml:posList&gt;
						&lt;/LinearExtent&gt;
					&lt;/location&gt;
				&lt;/BoreholeEvent&gt;
			&lt;/constructionEvent&gt;
			&lt;constructionEvent&gt;
				&lt;BoreholeEvent gml:id="DGS5863-C8B-ACC-47FC-37391"&gt;
					&lt;gml:description&gt;sub location 1&lt;/gml:description&gt;
					&lt;remark&gt;
						&lt;Remark&gt;
							&lt;content&gt;Something before drilling&lt;/content&gt;
						&lt;/Remark&gt;
					&lt;/remark&gt;

					&lt;time&gt;
						&lt;TimeInterval gml:id="DGS9A21-14DD-2F80-C8AE-5340D"&gt;
							&lt;start&gt;2015-06-04T12:00:00&lt;/start&gt;
							&lt;end&gt;2015-06-04T23:32:59&lt;/end&gt;
						&lt;/TimeInterval&gt;
					&lt;/time&gt;
				&lt;/BoreholeEvent&gt;
			&lt;/constructionEvent&gt;
			&lt;constructionEvent&gt;
				&lt;BoreholeEvent gml:id="DGS49F8-579-3745-F06-683F1"&gt;
					&lt;gml:description&gt;sub location 2&lt;/gml:description&gt;
					&lt;remark&gt;
						&lt;Remark&gt;
							&lt;content&gt;Something after drilling&lt;/content&gt;
						&lt;/Remark&gt;
					&lt;/remark&gt;

					&lt;time&gt;
						&lt;TimeInterval gml:id="DGS7F14-11EB-1CED-57DB-12567"&gt;
							&lt;start&gt;2015-06-04T23:55:00&lt;/start&gt;
							&lt;end&gt;2015-06-04T23:58:00&lt;/end&gt;
						&lt;/TimeInterval&gt;
					&lt;/time&gt;
				&lt;/BoreholeEvent&gt;
			&lt;/constructionEvent&gt;


			&lt;drillAdvancement&gt;
				&lt;Advancement gml:id="DGS2ED9-9BD-15A0-B377-1F89"&gt;
					&lt;gml:description&gt;1&lt;/gml:description&gt;
					&lt;location&gt;
						&lt;LinearExtent gml:id="DGS442D-122C-6F1-7B3-11812" srsName="#lsr-BH-33" srsDimension="1"&gt;
							&lt;gml:posList&gt;0.00 5.00&lt;/gml:posList&gt;
						&lt;/LinearExtent&gt;
					&lt;/location&gt;
					&lt;time&gt;
						&lt;TimeInterval gml:id="DGS3125-1975-2EE8-E666-A1AF"&gt;
							&lt;start/&gt;
							&lt;duration uom="min"&gt;5&lt;/duration&gt;
						&lt;/TimeInterval&gt;
					&lt;/time&gt;
					&lt;downwardThrust uom="kN"&gt;3.0&lt;/downwardThrust&gt;
					&lt;downthrustPressure uom="tonf[US]/ft2"&gt;2.0&lt;/downthrustPressure&gt;
					&lt;penetrationRate uom="ft/min"&gt;1.00&lt;/penetrationRate&gt;
				&lt;/Advancement&gt;
			&lt;/drillAdvancement&gt;
			&lt;drillAdvancement&gt;
				&lt;Advancement gml:id="DGS7F9E-49-3960-A89A-211F6"&gt;
					&lt;gml:description&gt;2&lt;/gml:description&gt;
					&lt;location&gt;
						&lt;LinearExtent gml:id="DGS89CB-2CB-15A9-651D-C3A6" srsName="#lsr-BH-33" srsDimension="1"&gt;
							&lt;gml:posList&gt;5.00 10.00&lt;/gml:posList&gt;
						&lt;/LinearExtent&gt;
					&lt;/location&gt;
					&lt;time&gt;
						&lt;TimeInterval gml:id="DGS8E06-B39-52-37F1-24F4"&gt;
							&lt;start/&gt;
							&lt;duration uom="min"&gt;8&lt;/duration&gt;
						&lt;/TimeInterval&gt;
					&lt;/time&gt;
					&lt;downthrustPressure uom="tonf[US]/ft2"&gt;46.8&lt;/downthrustPressure&gt;
				&lt;/Advancement&gt;
			&lt;/drillAdvancement&gt;

			&lt;flush&gt;
				&lt;Flush gml:id="DGS75DD-258-2D98-61DD-41919"&gt;

					&lt;flushZoneLocation&gt;
						&lt;LinearExtent gml:id="DGS59AA-15F4-49BF-1044-21F72" srsName="#lsr-BH-33" srsDimension="1"&gt;
							&lt;gml:posList&gt;3.00 6.00&lt;/gml:posList&gt;
						&lt;/LinearExtent&gt;
					&lt;/flushZoneLocation&gt;
					&lt;fluidType/&gt;
					&lt;minFlushReturn uom="%"&gt;3&lt;/minFlushReturn&gt;
					&lt;maxflushReturn uom="%"&gt;7&lt;/maxflushReturn&gt;
					&lt;flushColor/&gt;
				&lt;/Flush&gt;
			&lt;/flush&gt;
			&lt;flush&gt;
				&lt;Flush gml:id="DGS46E0-1166-36D3-5D0-5D0A6"&gt;

					&lt;flushZoneLocation&gt;
						&lt;LinearExtent gml:id="DGS8EA1-12B3-257C-D92-9AB2" srsName="#lsr-BH-33" srsDimension="1"&gt;
							&lt;gml:posList&gt;7.00 10.00&lt;/gml:posList&gt;
						&lt;/LinearExtent&gt;
					&lt;/flushZoneLocation&gt;
					&lt;fluidType/&gt;
					&lt;maxflushReturn uom="%"&gt;7&lt;/maxflushReturn&gt;
					&lt;flushColor/&gt;
				&lt;/Flush&gt;
			&lt;/flush&gt;
			&lt;flush&gt;
				&lt;Flush gml:id="DGS593-1291-321-1CF4-1D849"&gt;

					&lt;flushZoneLocation&gt;
						&lt;LinearExtent gml:id="DGS309C-1128-27F3-884B-389C3" srsName="#lsr-BH-33" srsDimension="1"&gt;
							&lt;gml:posList&gt;10.00 12.00&lt;/gml:posList&gt;
						&lt;/LinearExtent&gt;
					&lt;/flushZoneLocation&gt;
					&lt;fluidType/&gt;
					&lt;minFlushReturn uom="%"&gt;4&lt;/minFlushReturn&gt;
					&lt;flushColor/&gt;
				&lt;/Flush&gt;
			&lt;/flush&gt;
			&lt;flush&gt;
				&lt;Flush gml:id="DGS148C-141E-4FD1-704C-54D9B"&gt;
					&lt;remark&gt;
						&lt;Remark&gt;
							&lt;content&gt;Remarks&lt;/content&gt;
						&lt;/Remark&gt;
					&lt;/remark&gt;

					&lt;flushZoneLocation&gt;
						&lt;LinearExtent gml:id="DGS8552-6D-283D-8539-1583B" srsName="#lsr-BH-33" srsDimension="1"&gt;
							&lt;gml:posList&gt;30.00 35.00&lt;/gml:posList&gt;
						&lt;/LinearExtent&gt;
					&lt;/flushZoneLocation&gt;
					&lt;fluidType/&gt;
					&lt;minFlushReturn uom="%"&gt;85&lt;/minFlushReturn&gt;
					&lt;maxflushReturn uom="%"&gt;100&lt;/maxflushReturn&gt;
					&lt;flushColor&gt;Brown&lt;/flushColor&gt;
				&lt;/Flush&gt;
			&lt;/flush&gt;

			&lt;holeDiameter&gt;
				&lt;BoreholeDiameter gml:id="DGS3D27-18DB-42AB-6232-4E510"&gt;
					&lt;diameterLocation&gt;
						&lt;LinearExtent gml:id="DGS3133-1231-25FC-90A8-554B2" srsName="#lsr-BH-33" srsDimension="1"&gt;
							&lt;gml:posList&gt;0 40.00&lt;/gml:posList&gt;
						&lt;/LinearExtent&gt;
					&lt;/diameterLocation&gt;
					&lt;diameter uom="in"&gt;4&lt;/diameter&gt;
				&lt;/BoreholeDiameter&gt;
			&lt;/holeDiameter&gt;
			&lt;waterStrike&gt;
				&lt;WaterStrike gml:id="DGS48F6-11E8-4C5B-B93F-4C027"&gt;
					&lt;status&gt;After drilling&lt;/status&gt;
					&lt;waterStrikeReadings&gt;
						&lt;WaterStrikeReading gml:id="DGSA1DF-1D-1796-21F8-46AC2"&gt;
							&lt;dateTime&gt;2015-06-05T06:00:00&lt;/dateTime&gt;
							&lt;waterLocation&gt;
								&lt;PointLocation srsName="#lsr-BH-33" srsDimension="1" gml:id="DGS35A0-6F1-3709-CDCC-50010"&gt;
									&lt;gml:pos&gt;15.00&lt;/gml:pos&gt;
								&lt;/PointLocation&gt;
							&lt;/waterLocation&gt;
						&lt;/WaterStrikeReading&gt;
					&lt;/waterStrikeReadings&gt;
				&lt;/WaterStrike&gt;
			&lt;/waterStrike&gt;
			&lt;waterStrike&gt;
				&lt;WaterStrike gml:id="DGS6A2F-13E9-152D-78C6-36625"&gt;
					&lt;status&gt;At time of drilling&lt;/status&gt;
					&lt;waterStrikeReadings&gt;
						&lt;WaterStrikeReading gml:id="DGS3252-A8E-B6A-6E9E-4A64"&gt;
							&lt;dateTime&gt;2015-06-04T13:47:48&lt;/dateTime&gt;
							&lt;waterLocation&gt;
								&lt;PointLocation srsName="#lsr-BH-33" srsDimension="1" gml:id="DGS9E40-D05-38FB-55FB-62521"&gt;
									&lt;gml:pos&gt;19.00&lt;/gml:pos&gt;
								&lt;/PointLocation&gt;
							&lt;/waterLocation&gt;
						&lt;/WaterStrikeReading&gt;
					&lt;/waterStrikeReadings&gt;
				&lt;/WaterStrike&gt;
			&lt;/waterStrike&gt;
			&lt;waterStrike&gt;
				&lt;WaterStrike gml:id="DGS182D-528-4AEE-31DE-3020E"&gt;
					&lt;status&gt;At time of drilling&lt;/status&gt;
					&lt;waterStrikeReadings&gt;
						&lt;WaterStrikeReading gml:id="DGS2731-418-416D-F67F-55F2D"&gt;
							&lt;dateTime&gt;2015-06-04T13:50:26&lt;/dateTime&gt;
							&lt;waterLocation&gt;
								&lt;PointLocation srsName="#lsr-BH-33" srsDimension="1" gml:id="DGS3046-AE-417C-1A8B-14C42"&gt;
									&lt;gml:pos&gt;15.00&lt;/gml:pos&gt;
								&lt;/PointLocation&gt;
							&lt;/waterLocation&gt;
						&lt;/WaterStrikeReading&gt;
					&lt;/waterStrikeReadings&gt;
				&lt;/WaterStrike&gt;
			&lt;/waterStrike&gt;
			&lt;waterStrike&gt;
				&lt;WaterStrike gml:id="DGS2A1A-D8C-598-418B-2F609"&gt;
					&lt;status&gt;End of drilling&lt;/status&gt;
					&lt;waterStrikeReadings&gt;
						&lt;WaterStrikeReading gml:id="DGS59E-C7A-2535-B1D2-61833"&gt;
							&lt;dateTime&gt;2015-06-04T23:47:36&lt;/dateTime&gt;
							&lt;waterLocation&gt;
								&lt;PointLocation srsName="#lsr-BH-33" srsDimension="1" gml:id="DGS1496-1568-79-A9-13886"&gt;
									&lt;gml:pos&gt;13.00&lt;/gml:pos&gt;
								&lt;/PointLocation&gt;
							&lt;/waterLocation&gt;
						&lt;/WaterStrikeReading&gt;
					&lt;/waterStrikeReadings&gt;
				&lt;/WaterStrike&gt;
			&lt;/waterStrike&gt;
		&lt;/Borehole&gt;
	&lt;/samplingFeature&gt;

	&lt;samplingFeature&gt;
		&lt;Well gml:id="DGS99EB-F2F-36FF-F807-3D075"&gt;
			&lt;gml:name&gt;A&lt;/gml:name&gt;
			&lt;role&gt;
				&lt;Role&gt;
					&lt;!-- Fails check 2, URL not in white list --&gt;
					&lt;rolePerformed codeSpace="https://google.com/def/codes/DIGGS/0.1/roles.xml#drilling_contractor"&gt;Drilling Contractor&lt;/rolePerformed&gt;
					&lt;businessAssociate&gt;
						&lt;BusinessAssociate gml:id="DGS839E-14B8-3DDB-F1E5-43639"&gt;
							&lt;gml:name&gt;Big Dog Wellers&lt;/gml:name&gt;
						&lt;/BusinessAssociate&gt;
					&lt;/businessAssociate&gt;
				&lt;/Role&gt;
			&lt;/role&gt;
			&lt;remark&gt;
				&lt;Remark&gt;
					&lt;content&gt;Transducer measures hydrostatic pressure but is calibrated to output water level elevation. See calibration audit trail to view calibration history. &lt;/content&gt;
				&lt;/Remark&gt;
			&lt;/remark&gt;
			&lt;investigationTarget&gt;Ground Water&lt;/investigationTarget&gt;
			&lt;projectRef xlink:href="#Project_20250110_-_DIGGS_Challenge"/&gt;
			&lt;referencePoint&gt;
				&lt;PointLocation srsDimension="3" srsName="https://www.opengis.net/def/crs-compound?1=http://www.opengis.net/def/crs/EPSG/0/4326%262=http://www.opengis.net/def/crs/EPSG/0/6360" uomLabels="dega dega ft" gml:id="pl-BH-33A"&gt;
					&lt;gml:pos&gt;-84.247361 33.854467 319.00&lt;/gml:pos&gt;
				&lt;/PointLocation&gt;
			&lt;/referencePoint&gt;
			&lt;centerLine&gt;
				&lt;LinearExtent srsDimension="3" srsName="https://www.opengis.net/def/crs-compound?1=http://www.opengis.net/def/crs/EPSG/0/4326%262=http://www.opengis.net/def/crs/EPSG/0/6360" uomLabels="dega dega ft" gml:id="cl-BH-33A"&gt;
					&lt;gml:posList&gt;-84.247361 33.854467 319.00 -84.247361 33.854467 294&lt;/gml:posList&gt;
				&lt;/LinearExtent&gt;
			&lt;/centerLine&gt;
			&lt;samplingFeatureRef xlink:href="#Location_BH-33"/&gt;
			&lt;installationEquipment&gt;
				&lt;Sensor gml:id="DGS6088-1211-392B-EAB5-1D1AD"&gt;
					&lt;gml:name&gt;Piezo-33&lt;/gml:name&gt;
					&lt;referencePoint&gt;
						&lt;PointLocation srsDimension="3" srsName="https://www.opengis.net/def/crs-compound?1=http://www.opengis.net/def/crs/EPSG/0/4326%262=http://www.opengis.net/def/crs/EPSG/0/6360" uomLabels="dega dega ft" gml:id="ie-BH-33A"&gt;
							&lt;gml:pos&gt;-84.247361 33.854467 319.00&lt;/gml:pos&gt;
						&lt;/PointLocation&gt;
					&lt;/referencePoint&gt;
					&lt;dateInstalled&gt;
						&lt;TimeInterval gml:id="DGS22F0-102F-BE2-EA00-3C705"&gt;
							&lt;start&gt;2015-06-04&lt;/start&gt;
						&lt;/TimeInterval&gt;
					&lt;/dateInstalled&gt;
					&lt;detector&gt;
						&lt;Detector gml:id="DGS9347-FAE-E33-1C8D-3FBD0"&gt;
							&lt;detectorLocation&gt;
								&lt;PointLocation srsName="#lsr-BH-33" srsDimension="1" gml:id="DGS6E76-EF0-2918-C95B-1389E"&gt;
									&lt;gml:pos&gt;25.00&lt;/gml:pos&gt;
								&lt;/PointLocation&gt;
							&lt;/detectorLocation&gt;
							&lt;measurand codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/measurand.xml#water_elev"&gt;Water elevation&lt;/measurand&gt;
							&lt;type&gt;EPIE&lt;/type&gt;
						&lt;/Detector&gt;
					&lt;/detector&gt;
				&lt;/Sensor&gt;
			&lt;/installationEquipment&gt;

			&lt;opening&gt;
				&lt;WellOpening gml:id="DGSD-D24-17A0-6B57-2099E"&gt;
					&lt;remark&gt;
						&lt;Remark&gt;
							&lt;content&gt;Remarks 2&lt;/content&gt;
						&lt;/Remark&gt;
					&lt;/remark&gt;
					&lt;openInterval&gt;
						&lt;LinearExtent gml:id="DGS819B-509-4AC2-5FD0-1DF9" srsDimension="1" srsName="#lsr-BH-33"&gt;
							&lt;gml:posList&gt;15.00 25.00&lt;/gml:posList&gt;
						&lt;/LinearExtent&gt;
					&lt;/openInterval&gt;
					&lt;openingDiameter uom="in"&gt;2&lt;/openingDiameter&gt;
					&lt;openingMaterial&gt;PVC&lt;/openingMaterial&gt;
				&lt;/WellOpening&gt;
			&lt;/opening&gt;
			&lt;wellCasing&gt;
				&lt;Casing gml:id="DGS3F3D-16E7-1358-6E8A-23D18"&gt;
					&lt;remark&gt;
						&lt;Remark&gt;
							&lt;content&gt;Remarks 1&lt;/content&gt;
						&lt;/Remark&gt;
					&lt;/remark&gt;
					&lt;casingLocation&gt;
						&lt;LinearExtent srsName="#lsr-BH-33" srsDimension="1" gml:id="DGS64AA-EDA-18BB-4C4D-185D7"&gt;
							&lt;gml:posList&gt;-0.50 15.00&lt;/gml:posList&gt;
						&lt;/LinearExtent&gt;
					&lt;/casingLocation&gt;
					&lt;casingInsideDiameter uom="in"&gt;2&lt;/casingInsideDiameter&gt;
					&lt;casingMaterial&gt;PVC&lt;/casingMaterial&gt;
				&lt;/Casing&gt;
			&lt;/wellCasing&gt;
			&lt;wellDepth uom="ft"&gt;25&lt;/wellDepth&gt;
		&lt;/Well&gt;
	&lt;/samplingFeature&gt;

	&lt;measurement&gt;
		&lt;Test gml:id="DGS16A2-C41-175A-BFBF-24606"&gt;
			&lt;gml:name&gt;2&lt;/gml:name&gt;
			&lt;investigationTarget&gt;Natural Ground&lt;/investigationTarget&gt;
			&lt;projectRef xlink:href="#Project_20250110_-_DIGGS_Challenge"/&gt;
			&lt;samplingFeatureRef xlink:href="#Location_BH-33"/&gt;
			&lt;outcome&gt;
				&lt;TestResult gml:id="DGS5EC5-308-15D5-D16-612FD"&gt;
					&lt;location&gt;
						&lt;LinearExtent srsDimension="1" srsName="lsr-BH-33" gml:id="DGS8F74-15A2-12E9-E839-3608A"&gt;
							&lt;gml:posList&gt;7.5 9.00&lt;/gml:posList&gt;
						&lt;/LinearExtent&gt;
					&lt;/location&gt;
					&lt;results&gt;
						&lt;ResultSet&gt;
							&lt;parameters&gt;
								&lt;PropertyParameters gml:id="DGS2916-3C9-819-702D-1AD2A"&gt;
									&lt;properties&gt;
										&lt;Property index="1"&gt;
											&lt;propertyName&gt;N-Value&lt;/propertyName&gt;
											&lt;typeData&gt;long&lt;/typeData&gt;
											&lt;!-- Fails check 6 Lpgger is not a propertyClass value--&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/roles.xml#logger"&gt;N-Value&lt;/propertyClass&gt;
										&lt;/Property&gt;
									&lt;/properties&gt;
								&lt;/PropertyParameters&gt;
							&lt;/parameters&gt;
							&lt;dataValues cs="," ts=" " decimal="."&gt;3&lt;/dataValues&gt;
						&lt;/ResultSet&gt;
					&lt;/results&gt;
				&lt;/TestResult&gt;
			&lt;/outcome&gt;
			&lt;procedure&gt;
				&lt;diggs:DrivenPenetrationTest gml:id="SPT_BH-33_7.5"&gt;
					&lt;diggs:penetrationTestType&gt;SPT&lt;/diggs:penetrationTestType&gt;
					&lt;diggs:hammerType&gt;Automatic&lt;/diggs:hammerType&gt;
					&lt;!-- Should fail Schematron test --&gt;
					&lt;diggs:hammerEfficiency uom="%"&gt;170&lt;/diggs:hammerEfficiency&gt;
					&lt;diggs:totalPenetration uom="ft"&gt;1.50&lt;/diggs:totalPenetration&gt;
					&lt;diggs:driveSet&gt;
						&lt;diggs:DriveSet gml:id="ds-2_DGSCE4-864-34AB-1A49-2989D"&gt;
							&lt;diggs:index&gt;1&lt;/diggs:index&gt;
							&lt;diggs:blowCount&gt;1&lt;/diggs:blowCount&gt;
							&lt;diggs:penetration uom="ft"&gt;0.5&lt;/diggs:penetration&gt;
						&lt;/diggs:DriveSet&gt;
					&lt;/diggs:driveSet&gt;
					&lt;diggs:driveSet&gt;
						&lt;diggs:DriveSet gml:id="ds-2_DGS89D0-1E2-21A7-1A7-3A334"&gt;
							&lt;diggs:index&gt;2&lt;/diggs:index&gt;
							&lt;diggs:blowCount&gt;2&lt;/diggs:blowCount&gt;
							&lt;diggs:penetration uom="ft"&gt;0.5&lt;/diggs:penetration&gt;
						&lt;/diggs:DriveSet&gt;
					&lt;/diggs:driveSet&gt;
					&lt;diggs:driveSet&gt;
						&lt;diggs:DriveSet gml:id="ds-2_DGS47EB-17FD-4CB3-6F66-548A7"&gt;
							&lt;diggs:index&gt;3&lt;/diggs:index&gt;
							&lt;diggs:blowCount&gt;1&lt;/diggs:blowCount&gt;
							&lt;diggs:penetration uom="ft"&gt;0.5&lt;/diggs:penetration&gt;
						&lt;/diggs:DriveSet&gt;
					&lt;/diggs:driveSet&gt;
				&lt;/diggs:DrivenPenetrationTest&gt;
			&lt;/procedure&gt;
		&lt;/Test&gt;
	&lt;/measurement&gt;


	&lt;measurement&gt;
		&lt;Test gml:id="DGS5D65-DC7-3D1D-8223-12D02"&gt;
			&lt;gml:name/&gt;
			&lt;role&gt;
				&lt;Role&gt;
					&lt;rolePerformed codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/roles.xml#laboratory_name"&gt;Laboratory Name&lt;/rolePerformed&gt;
					&lt;businessAssociate&gt;
						&lt;BusinessAssociate gml:id="DGS9365-971-5BB-9FC1-29B58"&gt;
							&lt;gml:name&gt;Dataforensics&lt;/gml:name&gt;
						&lt;/BusinessAssociate&gt;
					&lt;/businessAssociate&gt;
				&lt;/Role&gt;
			&lt;/role&gt;
			&lt;investigationTarget&gt;Natural Ground&lt;/investigationTarget&gt;
			&lt;projectRef xlink:href="#Project_20250110_-_DIGGS_Challenge"/&gt;
			&lt;samplingFeatureRef xlink:href="#Location_BH-33"/&gt;
			&lt;outcome&gt;
				&lt;TestResult gml:id="DGS4C85-33A-3D84-5118-6045C"&gt;
					&lt;location&gt;
						&lt;PointLocation srsDimension="1" srsName="BH-33-lsr" gml:id="DGS33ED-1371-4DD5-5374-166DB"&gt;
							&lt;gml:pos&gt;2.00&lt;/gml:pos&gt;
						&lt;/PointLocation&gt;
					&lt;/location&gt;
					&lt;results&gt;
						&lt;ResultSet&gt;
							&lt;parameters&gt;
								&lt;PropertyParameters gml:id="DGS9518-7F0-1F99-78C-43CB4"&gt;
									&lt;properties&gt;
										&lt;Property index="1" gml:id="DGS708A-10EC-22F0-E62-5396A"&gt;
											&lt;propertyName&gt;LL&lt;/propertyName&gt;
											&lt;typeData&gt;integer&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#liquid_limit"&gt;Liquid Limit&lt;/propertyClass&gt;
										&lt;/Property&gt;
										&lt;Property index="2" gml:id="DGS4D8D-130D-1435-19AD-D17E"&gt;
											&lt;propertyName&gt;PL&lt;/propertyName&gt;
											&lt;typeData&gt;integer&lt;/typeData&gt;
											&lt;!-- Fails Check 8 N60 is not a property appropriate for an atterberg test--&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#n60"&gt;Plastic Limit&lt;/propertyClass&gt;
										&lt;/Property&gt;
										&lt;Property index="3" gml:id="DGS2F87-7D8-E4F-6B6C-4A3C"&gt;
											&lt;propertyName&gt;PI&lt;/propertyName&gt;
											&lt;typeData&gt;integer&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#plasticity_index"&gt;Plasticity Index&lt;/propertyClass&gt;
										&lt;/Property&gt;
										&lt;Property index="4" gml:id="DGS3384-EC3-1665-90DB-481A7"&gt;
											&lt;propertyName&gt;Symbol from plasticity chart&lt;/propertyName&gt;
											&lt;typeData&gt;string&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#uscs_symbol_425"&gt;USCS Symbol Passing 425 Screen&lt;/propertyClass&gt;
										&lt;/Property&gt;
										&lt;Property index="5" gml:id="DGS8779-1274-7C9-CC49-406AE"&gt;
											&lt;propertyName&gt;LI&lt;/propertyName&gt;
											&lt;typeData&gt;double&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#liquidity_index"&gt;Liquidity Index&lt;/propertyClass&gt;
										&lt;/Property&gt;
										&lt;Property index="6" gml:id="DGSD26-1823-3D31-7BF8-2E482"&gt;
											&lt;propertyName&gt;non plastic&lt;/propertyName&gt;
											&lt;typeData&gt;boolean&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#non_plastic"&gt;Non Plastic&lt;/propertyClass&gt;
										&lt;/Property&gt;
									&lt;/properties&gt;
								&lt;/PropertyParameters&gt;
							&lt;/parameters&gt;
							&lt;dataValues cs="," decimal="." ts=" "&gt;,,,,,1&lt;/dataValues&gt;
						&lt;/ResultSet&gt;
					&lt;/results&gt;
				&lt;/TestResult&gt;
			&lt;/outcome&gt;
			&lt;procedure&gt;
					&lt;diggs:AtterbergLimitsTest gml:id="DGS193B-CED-229B-5C05-27504"&gt;
					&lt;status&gt;Approved&lt;/status&gt;
					&lt;testProcedureMethod&gt;
						&lt;Specification gml:id="DGS13F6-190E-40AD-723-2D9F7"&gt;
							&lt;gml:name&gt;ASTM D4318-10, Multipoint Test&lt;/gml:name&gt;
							&lt;accredtingBody/&gt;
						&lt;/Specification&gt;
					&lt;/testProcedureMethod&gt;
					&lt;specimen&gt;
						&lt;SoilSpecimen gml:id="DGS4C2C-956-3554-D6D0-339B6"&gt;
							&lt;gml:description/&gt;
							&lt;gml:name&gt;1&lt;/gml:name&gt;
							&lt;sampleRef xlink:href="#Sample_BH-33_2.00_1_AU_"/&gt;
						&lt;/SoilSpecimen&gt;
					&lt;/specimen&gt;
					&lt;diggs:percentRetainedNo40/&gt;
				&lt;/diggs:AtterbergLimitsTest&gt;
			&lt;/procedure&gt;
		&lt;/Test&gt;
	&lt;/measurement&gt;
	
	
	&lt;measurement&gt;
		&lt;Test gml:id="DGS5D65-DC7-3D1D-8223-12D03"&gt;
			&lt;investigationTarget&gt;Natural Ground&lt;/investigationTarget&gt;
			&lt;projectRef xlink:href="#Project_20250110_-_DIGGS_Challenge"/&gt;
			&lt;samplingFeatureRef xlink:href="#Location_BH-33"/&gt;
			&lt;outcome&gt;
				&lt;TestResult gml:id="DGS4C85-33A-3D84-5118-6045d"&gt;
					&lt;location&gt;
						&lt;PointLocation srsDimension="1" srsName="BH-33-lsr" gml:id="DGS33ED-1371-4DD5-5374-166Dd"&gt;
							&lt;gml:pos&gt;2.00&lt;/gml:pos&gt;
						&lt;/PointLocation&gt;
					&lt;/location&gt;
					&lt;results&gt;
						&lt;ResultSet&gt;
							&lt;parameters&gt;
								&lt;PropertyParameters gml:id="DGS9518-7F0-1F99-78C-43CB"&gt;
									&lt;properties&gt;
										&lt;Property index="1"&gt;
											&lt;propertyName&gt;LL&lt;/propertyName&gt;
											&lt;typeData&gt;integer&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#liquid_limit"&gt;Liquid Limit&lt;/propertyClass&gt;
										&lt;/Property&gt;
										&lt;Property index="2"&gt;
											&lt;propertyName&gt;PL&lt;/propertyName&gt;
											&lt;typeData&gt;integer&lt;/typeData&gt;
											&lt;!-- This record would fail check 8, but because there is no procedure, it can't validate against a sictionary. Need to pick this up in a measurment check - give general warning about non-procedural measurements. --&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#n60"&gt;Plastic Limit&lt;/propertyClass&gt;
										&lt;/Property&gt;
										&lt;Property index="3"&gt;
											&lt;propertyName&gt;PI&lt;/propertyName&gt;
											&lt;typeData&gt;integer&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#plasticity_index"&gt;Plasticity Index&lt;/propertyClass&gt;
										&lt;/Property&gt;
										&lt;Property index="4"&gt;
											&lt;propertyName&gt;Symbol from plasticity chart&lt;/propertyName&gt;
											&lt;typeData&gt;string&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#uscs_symbol_425"&gt;USCS Symbol Passing 425 Screen&lt;/propertyClass&gt;
										&lt;/Property&gt;
										&lt;Property index="5"&gt;
											&lt;propertyName&gt;LI&lt;/propertyName&gt;
											&lt;typeData&gt;double&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#liquidity_index"&gt;Liquidity Index&lt;/propertyClass&gt;
										&lt;/Property&gt;
										&lt;Property index="6"&gt;
											&lt;propertyName&gt;non plastic&lt;/propertyName&gt;
											&lt;typeData&gt;boolean&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#non_plastic"&gt;Non Plastic&lt;/propertyClass&gt;
										&lt;/Property&gt;
									&lt;/properties&gt;
								&lt;/PropertyParameters&gt;
							&lt;/parameters&gt;
							&lt;dataValues cs="," decimal="." ts=" "&gt;,,,,,1&lt;/dataValues&gt;
						&lt;/ResultSet&gt;
					&lt;/results&gt;
				&lt;/TestResult&gt;
			&lt;/outcome&gt;
		&lt;/Test&gt;
	&lt;/measurement&gt;

	&lt;measurement&gt;
		&lt;Test gml:id="DGS5193-53B-482C-3007-2760C"&gt;
			&lt;gml:name/&gt;
			&lt;investigationTarget&gt;Natural Ground&lt;/investigationTarget&gt;
			&lt;projectRef xlink:href="#Project_20250110_-_DIGGS_Challenge"/&gt;
			&lt;samplingFeatureRef xlink:href="#Location_BH-33"/&gt;
			&lt;outcome&gt;
				&lt;TestResult gml:id="DGS12C8-11FF-2525-C1C7-3AB2B"&gt;
					&lt;location&gt;
						&lt;PointLocation srsDimension="1" srsName="BH-34-lsr" gml:id="DGS828C-607-390F-2A94-57001"&gt;
							&lt;gml:pos&gt;22.00&lt;/gml:pos&gt;
						&lt;/PointLocation&gt;
					&lt;/location&gt;
					&lt;results&gt;
						&lt;ResultSet&gt;
							&lt;parameters&gt;
								&lt;PropertyParameters gml:id="DGS764E-1172-1E70-15D6-34A28"&gt;
									&lt;properties&gt;
										&lt;Property index="1" gml:id="DGS8DA6-C62-1430-D0D4-46B42"&gt;
											&lt;propertyName&gt;Cu&lt;/propertyName&gt;
											&lt;typeData&gt;double&lt;/typeData&gt;
                                            &lt;!-- Fail check 11 Property needs UOM--&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#coef_uniformity"&gt;Coefficient of Uniformity&lt;/propertyClass&gt;
										&lt;/Property&gt;
										&lt;Property index="2" gml:id="DGS9201-124B-41A9-C3D1-3A0AE"&gt;
											&lt;propertyName&gt;Cc&lt;/propertyName&gt;
											&lt;typeData&gt;double&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#coef_curvature"&gt;Coefficient of Curvature&lt;/propertyClass&gt;
										&lt;/Property&gt;
										&lt;Property index="3" gml:id="DGSA6AA-666-4B12-ED9D-2EA06"&gt;
											&lt;propertyName&gt;D10&lt;/propertyName&gt;
											&lt;typeData&gt;double&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#d10"&gt;d10&lt;/propertyClass&gt;
											&lt;uom&gt;mm&lt;/uom&gt;
										&lt;/Property&gt;
										&lt;Property index="4" gml:id="DGS3B2C-D19-41C5-36B4-FB"&gt;
											&lt;propertyName&gt;D30&lt;/propertyName&gt;
											&lt;typeData&gt;double&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#d30"&gt;d30&lt;/propertyClass&gt;
											&lt;uom&gt;mm&lt;/uom&gt;
										&lt;/Property&gt;
										&lt;Property index="5" gml:id="DGS9D4B-1193-23A7-15F4-3EED0"&gt;
											&lt;propertyName&gt;D50&lt;/propertyName&gt;
											&lt;typeData&gt;double&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#d50"&gt;d50&lt;/propertyClass&gt;
											&lt;uom&gt;mm&lt;/uom&gt;
										&lt;/Property&gt;
										&lt;Property index="6" gml:id="DGS1FAA-1277-D20-E4B6-62361"&gt;
											&lt;propertyName&gt;D60&lt;/propertyName&gt;
											&lt;typeData&gt;double&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#d60"&gt;d60&lt;/propertyClass&gt;
											&lt;uom&gt;mm&lt;/uom&gt;
										&lt;/Property&gt;
										&lt;Property index="7" gml:id="DGS82B1-8AC-2ED1-8051-2FCE0"&gt;
											&lt;propertyName&gt;USCS&lt;/propertyName&gt;
											&lt;typeData&gt;string&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#uscs_symbol"&gt;USCS Group Symbol&lt;/propertyClass&gt;
										&lt;/Property&gt;
										&lt;Property index="8" gml:id="DGS44A1-840-3815-E395-1AC43"&gt;
											&lt;propertyName&gt;USCS Group Name&lt;/propertyName&gt;
											&lt;typeData&gt;string&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#uscs_group_name"&gt;USCS Group Name&lt;/propertyClass&gt;
										&lt;/Property&gt;
										&lt;Property index="9" gml:id="DGS5948-1F9-37-7A6D-30902"&gt;
											&lt;propertyName&gt;AASHTO Symbol&lt;/propertyName&gt;
											&lt;typeData&gt;string&lt;/typeData&gt;
											&lt;!-- Check 10 fail, should not have uom symbol--&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#aashto_symbol"&gt;AASHTO Symbol&lt;/propertyClass&gt;
											&lt;uom&gt;%&lt;/uom&gt;
										&lt;/Property&gt;
										&lt;Property index="10" gml:id="DGS755B-393-18AD-846A-11091"&gt;
											&lt;propertyName&gt;AASHTO Group Index&lt;/propertyName&gt;
											&lt;typeData&gt;integer&lt;/typeData&gt;
                                            &lt;!-- Fails Check 9 wrong data type--&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#aashto_group_index"&gt;AASHTO Group Index&lt;/propertyClass&gt;
										&lt;/Property&gt;
										&lt;Property index="11" gml:id="DGSE9B-121D-43E2-D8EB-196A7"&gt;
											&lt;propertyName&gt;D15&lt;/propertyName&gt;
											&lt;typeData&gt;double&lt;/typeData&gt;
                                            &lt;!-- Fail check 11, needs uom--&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#d15"&gt;d15&lt;/propertyClass&gt;
										&lt;/Property&gt;
										&lt;Property index="12" gml:id="DGS8631-3D2-25D1-12FD-3352B"&gt;
											&lt;propertyName&gt;D85&lt;/propertyName&gt;
											&lt;typeData&gt;double&lt;/typeData&gt;
                                            &lt;!-- Fail check 11, needs uom--&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#d85"&gt;d85&lt;/propertyClass&gt;
										&lt;/Property&gt;
										&lt;Property index="13" gml:id="DGS813A-143C-4237-5B1F-2E45"&gt;
											&lt;propertyName&gt;Percent Fines&lt;/propertyName&gt;
											&lt;typeData&gt;double&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#percent_fines"&gt;Percent Fines&lt;/propertyClass&gt;
                                            &lt;uom&gt;%&lt;/uom&gt;
										&lt;/Property&gt;
										&lt;Property index="14" gml:id="DGS70D0-C15-4099-C76C-236C3"&gt;
											&lt;propertyName&gt;Percent Sand&lt;/propertyName&gt;
											&lt;typeData&gt;double&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#percent_sand"&gt;Percent Sand&lt;/propertyClass&gt;
                                            &lt;uom&gt;%&lt;/uom&gt;
										&lt;/Property&gt;
										&lt;Property index="15" gml:id="DGS98A6-B55-16B1-DF48-2CB1B"&gt;
											&lt;propertyName&gt;Percent Gravel&lt;/propertyName&gt;
											&lt;typeData&gt;double&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#percent_gravel"&gt;Percent Gravel&lt;/propertyClass&gt;
                                            &lt;uom&gt;%&lt;/uom&gt;
										&lt;/Property&gt;
										&lt;Property index="16" gml:id="DGS78FF-58B-228-63F6-57D7E"&gt;
											&lt;propertyName&gt;Percent Clay&lt;/propertyName&gt;
											&lt;typeData&gt;double&lt;/typeData&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#clay_percent_5_micron"&gt;Clay Fraction &amp;lt; 5 Micron&lt;/propertyClass&gt;
                                            &lt;uom&gt;mm&lt;/uom&gt;
										&lt;/Property&gt;
										&lt;Property index="17" gml:id="DGSA2B-433-11F7-DC5A-44686"&gt;
											&lt;propertyName&gt;Percent Silt&lt;/propertyName&gt;
											&lt;typeData&gt;string&lt;/typeData&gt;
											&lt;!-- Check 9 failure, wrong data type --&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#percent_silt"&gt;Percent Silt&lt;/propertyClass&gt;
                                            &lt;uom&gt;%&lt;/uom&gt;
										&lt;/Property&gt;
										&lt;Property index="18" gml:id="DGS6384-EB3-C91-45B-555D"&gt;
											&lt;propertyName&gt;Percent Cobbles&lt;/propertyName&gt;
											&lt;typeData&gt;double&lt;/typeData&gt;
                                         &lt;!-- Fail check 11, needs uom--&gt;
											&lt;propertyClass codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/properties.xml#percent_cobbles"&gt;Percent Cobbles&lt;/propertyClass&gt;
										&lt;/Property&gt;
									&lt;/properties&gt;
								&lt;/PropertyParameters&gt;
							&lt;/parameters&gt;
							&lt;dataValues cs="," decimal="." ts=" "&gt;,,,,,,,,,,,,,,,,,&lt;/dataValues&gt;
						&lt;/ResultSet&gt;
					&lt;/results&gt;
				&lt;/TestResult&gt;
			&lt;/outcome&gt;
			&lt;procedure&gt;
				&lt;diggs:ParticleSizeTest gml:id="DGS856F-18A1-23BC-7875-42F07"&gt;

					&lt;specimen&gt;
						&lt;SoilSpecimen gml:id="DGS3984-152D-153-34AD-1F592"&gt;
							&lt;gml:description/&gt;
							&lt;gml:name/&gt;
							&lt;sampleRef xlink:href="#Sample_BH-34_22.00_7_SH_"/&gt;
						&lt;/SoilSpecimen&gt;
					&lt;/specimen&gt;

					&lt;diggs:sieveAnalysis&gt;
						&lt;diggs:SieveAnalysis gml:id="DGS24C6-7FA-CF6-29E6-477FB"&gt;
							&lt;diggs:gradingData&gt;
								&lt;diggs:Grading gml:id="DGSA650-45C-13E3-5A2B-2F1FF"&gt;
									&lt;diggs:particleSize uom="mm"&gt;0.0750&lt;/diggs:particleSize&gt;
									&lt;diggs:percentPassing uom="%"&gt;36&lt;/diggs:percentPassing&gt;
								&lt;/diggs:Grading&gt;
							&lt;/diggs:gradingData&gt;
							&lt;diggs:gradingData&gt;
								&lt;diggs:Grading gml:id="DGS66C9-1277-3ED7-D9FE-3802B"&gt;
									&lt;diggs:particleSize uom="mm"&gt;0.106&lt;/diggs:particleSize&gt;
									&lt;diggs:percentPassing uom="%"&gt;39&lt;/diggs:percentPassing&gt;
								&lt;/diggs:Grading&gt;
							&lt;/diggs:gradingData&gt;
							&lt;diggs:gradingData&gt;
								&lt;diggs:Grading gml:id="DGS7FB5-CEE-22C9-D764-627F0"&gt;
									&lt;diggs:particleSize uom="mm"&gt;0.250&lt;/diggs:particleSize&gt;
									&lt;diggs:percentPassing uom="%"&gt;68&lt;/diggs:percentPassing&gt;
								&lt;/diggs:Grading&gt;
							&lt;/diggs:gradingData&gt;
							&lt;diggs:gradingData&gt;
								&lt;diggs:Grading gml:id="DGS9041-186C-3F2A-DB8A-90C5"&gt;
									&lt;diggs:particleSize uom="mm"&gt;0.425&lt;/diggs:particleSize&gt;
									&lt;diggs:percentPassing uom="%"&gt;86&lt;/diggs:percentPassing&gt;
								&lt;/diggs:Grading&gt;
							&lt;/diggs:gradingData&gt;
							&lt;diggs:gradingData&gt;
								&lt;diggs:Grading gml:id="DGS56FE-FCB-5C6-A2E6-3BA70"&gt;
									&lt;diggs:particleSize uom="mm"&gt;0.850&lt;/diggs:particleSize&gt;
									&lt;diggs:percentPassing uom="%"&gt;94&lt;/diggs:percentPassing&gt;
								&lt;/diggs:Grading&gt;
							&lt;/diggs:gradingData&gt;
							&lt;diggs:gradingData&gt;
								&lt;diggs:Grading gml:id="DGS5F49-437-3E6A-271C-62E1"&gt;
									&lt;diggs:particleSize uom="mm"&gt;2.00&lt;/diggs:particleSize&gt;
									&lt;diggs:percentPassing uom="%"&gt;97&lt;/diggs:percentPassing&gt;
								&lt;/diggs:Grading&gt;
							&lt;/diggs:gradingData&gt;
							&lt;diggs:gradingData&gt;
								&lt;diggs:Grading gml:id="DGS2204-9CD-238C-23E0-243D2"&gt;
									&lt;diggs:particleSize uom="mm"&gt;4.75&lt;/diggs:particleSize&gt;
									&lt;diggs:percentPassing uom="%"&gt;99&lt;/diggs:percentPassing&gt;
								&lt;/diggs:Grading&gt;
							&lt;/diggs:gradingData&gt;
							&lt;diggs:gradingData&gt;
								&lt;diggs:Grading gml:id="DGS5D8-CBE-103D-BC59-24F72"&gt;
									&lt;diggs:particleSize uom="mm"&gt;9.50&lt;/diggs:particleSize&gt;
									&lt;diggs:percentPassing uom="%"&gt;100&lt;/diggs:percentPassing&gt;
								&lt;/diggs:Grading&gt;
							&lt;/diggs:gradingData&gt;
							&lt;diggs:gradingData&gt;
								&lt;diggs:Grading gml:id="DGS2E6B-1798-358F-8F17-5F7B3"&gt;
									&lt;diggs:particleSize uom="mm"&gt;19.0&lt;/diggs:particleSize&gt;
									&lt;diggs:percentPassing uom="%"&gt;100&lt;/diggs:percentPassing&gt;
								&lt;/diggs:Grading&gt;
							&lt;/diggs:gradingData&gt;
							&lt;diggs:gradingData&gt;
								&lt;diggs:Grading gml:id="DGS4ED5-17BE-1AB0-368B-650E7"&gt;
									&lt;diggs:particleSize uom="mm"&gt;25.0&lt;/diggs:particleSize&gt;
									&lt;diggs:percentPassing uom="%"&gt;100&lt;/diggs:percentPassing&gt;
								&lt;/diggs:Grading&gt;
							&lt;/diggs:gradingData&gt;
							&lt;diggs:gradingData&gt;
								&lt;diggs:Grading gml:id="DGS4FFF-15A0-245C-2B54-2267D"&gt;
									&lt;diggs:particleSize uom="mm"&gt;37.5&lt;/diggs:particleSize&gt;
									&lt;diggs:percentPassing uom="%"&gt;100&lt;/diggs:percentPassing&gt;
								&lt;/diggs:Grading&gt;
							&lt;/diggs:gradingData&gt;
							&lt;diggs:gradingData&gt;
								&lt;diggs:Grading gml:id="DGS1513-93B-24CC-AE2D-41810"&gt;
									&lt;diggs:particleSize uom="mm"&gt;50.0&lt;/diggs:particleSize&gt;
									&lt;diggs:percentPassing uom="%"&gt;100&lt;/diggs:percentPassing&gt;
								&lt;/diggs:Grading&gt;
							&lt;/diggs:gradingData&gt;
							&lt;diggs:gradingData&gt;
								&lt;diggs:Grading gml:id="DGS426F-2D-1AFE-B0B-1C483"&gt;
									&lt;diggs:particleSize uom="mm"&gt;75.0&lt;/diggs:particleSize&gt;
									&lt;diggs:percentPassing uom="%"&gt;100&lt;/diggs:percentPassing&gt;
								&lt;/diggs:Grading&gt;
							&lt;/diggs:gradingData&gt;
						&lt;/diggs:SieveAnalysis&gt;
					&lt;/diggs:sieveAnalysis&gt;
					&lt;diggs:hydrometer&gt;
						&lt;diggs:Hydrometer gml:id="DGS2926-782-20F7-B2D1-3BDDD"&gt; &lt;/diggs:Hydrometer&gt;
					&lt;/diggs:hydrometer&gt;
				&lt;/diggs:ParticleSizeTest&gt;
			&lt;/procedure&gt;
		&lt;/Test&gt;
	&lt;/measurement&gt;

&lt;/Diggs&gt;</textarea></div>
            <div class="editor-statusbar" id="editor-statusbar">
               <div id="cursor-position">Line: 1, Column: 1</div>
               <div id="xml-info">XML Mode</div>
            </div>
         </div>
      </div><script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/xml/xml.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/edit/matchbrackets.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/fold/xml-fold.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/edit/matchtags.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/selection/active-line.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/search/search.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/search/searchcursor.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/search/jump-to-line.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/search/match-highlighter.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/dialog/dialog.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/fold/foldcode.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/fold/foldgutter.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/display/placeholder.min.js"></script><script>

document.addEventListener('DOMContentLoaded', function() {
  console.log('DOM content loaded - initializing application');
  
  // Editor management object to centralize initialization and state
  const EditorManager = {
    // State properties
    instance: null,
    initialized: false,
    visible: false,
    persistentMarker: null, // Store reference to persistent highlight marker
    
    /**
     * Gets the CodeMirror instance, initializing it if needed
     * @param {boolean} [showEditor=false] - Whether to show the editor if it's hidden
     * @returns {CodeMirror|null} - The CodeMirror instance or null if initialization failed
     */
    getEditor: function(showEditor = false) {
      // If we need to show the editor and it's not visible, show it
      if (showEditor && !this.visible) {
        this.toggleVisibility(true);
      }
      
      // If not initialized, initialize
      if (!this.initialized) {
        this.initialize();
      }
      
      return this.instance;
    },
    
    /**
     * Initialize the CodeMirror editor
     * @returns {CodeMirror|null} - The CodeMirror instance or null if initialization failed
     */
    initialize: function() {
      if (this.initialized && this.instance) {
        this.refresh();
        return this.instance;
      }
      
      console.log('Initializing CodeMirror editor');
      const editor = document.getElementById('xml-editor');
      if (!editor) {
        console.error('XML editor element not found');
        return null;
      }
      
      try {
        // Create CodeMirror instance
        this.instance = CodeMirror.fromTextArea(editor, {
          mode: 'application/xml',
          lineNumbers: true,
          matchBrackets: true,
          autoCloseTags: true,
          matchTags: {bothTags: true},
          indentUnit: 4,
          tabSize: 4,
          smartIndent: true,
          lineWrapping: true,
          theme: 'eclipse',
          styleActiveLine: true,
          foldGutter: true,
          gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"],
          extraKeys: {
            "Ctrl-Space": "autocomplete",
            "Ctrl-Q": function(cm) { cm.foldCode(cm.getCursor()); },
            "Ctrl-F": "findPersistent",
            "Tab": function(cm) {
              // Insert spaces instead of tab character
              const spaces = Array(cm.getOption("indentUnit") + 1).join(" ");
              cm.replaceSelection(spaces);
            }
          }
        });
        
        // Set up cursor position tracking
        if (this.instance) {
          this.instance.on('cursorActivity', this.updateCursorPosition);
          this.initialized = true;
          
          // Ensure CodeMirror is refreshed when shown
          setTimeout(() => this.refresh(), 50);
          return this.instance;
        }
        
        return null;
      } catch (error) {
        console.error('Error initializing CodeMirror:', error);
        alert('Error initializing the XML editor. Some features may be limited.');
        return null;
      }
    },
    
    /**
     * Toggle editor visibility
     * @param {boolean} [show] - Force show (true) or hide (false)
     * @returns {boolean} - Whether the editor is now visible
     */
    toggleVisibility: function(show = null) {
      const editorBody = document.getElementById('editor-body');
      if (!editorBody) {
        console.error('Editor body not found');
        return false;
      }
      
      // If show parameter is provided, set visibility accordingly
      if (show !== null) {
        if (show) {
          editorBody.classList.add('open');
        } else {
          editorBody.classList.remove('open');
        }
      } else {
        // Otherwise toggle visibility
        editorBody.classList.toggle('open');
      }
      
      // Update state
      this.visible = editorBody.classList.contains('open');
      
      // If becoming visible, ensure initialization and refresh
      if (this.visible) {
        if (!this.initialized) {
          this.initialize();
        } else {
          this.refresh();
        }
      } else {
        // If hiding, clear any persistent highlights
        if (this.persistentMarker) {
          if (Array.isArray(this.persistentMarker)) {
            this.persistentMarker.forEach(marker => {
              if (marker) marker.clear();
            });
          } else if (this.persistentMarker.clear) {
            this.persistentMarker.clear();
          }
          this.persistentMarker = null;
        }
      }
      
      console.log('Editor toggled, visible:', this.visible);
      return this.visible;
    },
    
    /**
     * Refresh the CodeMirror instance to ensure proper rendering
     */
    refresh: function() {
      if (this.instance) {
        // Use timeout to ensure DOM updates first
        setTimeout(() => {
          this.instance.refresh();
          console.log('CodeMirror refreshed');
        }, 10);
      }
    },
    
    /**
     * Update cursor position in status bar
     */
    updateCursorPosition: function() {
      const cursorPosition = document.getElementById('cursor-position');
      if (!cursorPosition) return;
      
      const cursor = EditorManager.instance.getCursor();
      cursorPosition.textContent = `Line: ${cursor.line + 1}, Column: ${cursor.ch + 1}`;
    },
    
    /**
     * Format the XML content in the editor
     * @returns {boolean} - Success status
     */
    formatXml: function() {
      const editor = this.getEditor();
      if (!editor) return false;
      
      try {
        // Get the current XML content
        let xmlContent = editor.getValue();
        
        // Basic XML formatting function
        function prettyPrint(xml) {
          let formatted = '';
          let indent = '';
          const tab = '  '; // 2 spaces for indentation
          
          xml = xml.replace(/(>)(<)(\/*)/g, '$1\n$2$3'); // Add line breaks
          
          const lines = xml.split('\n');
          
          lines.forEach(line => {
            // Skip blank lines
            if (line.trim() === '') return;
            
            const match = line.match(/^.*<(\/*)(.*?)(\s.*)?>/);
            
            if (match) {
              const closing = match[1];
              const opening = line.match(/<.*?>/g).length - (line.match(/<\/.*/g)?.length || 0);
              
              if (closing) {
                // This is a closing tag, reduce indent
                indent = indent.substring(tab.length);
              }
              
              // Add the line with proper indentation
              formatted += indent + line.trim() + '\n';
              
              if (!closing && opening === 1) {
                // This is an opening tag, increase indent
                indent += tab;
              }
            } else {
              // This is content or a non-standard line, just add it with current indent
              formatted += indent + line.trim() + '\n';
            }
          });
          
          return formatted.trim();
        }
        
        // Format the XML
        const formattedXml = prettyPrint(xmlContent);
        
        // Update CodeMirror with formatted XML
        editor.setValue(formattedXml);
        
        // Put cursor at the beginning
        editor.setCursor(0, 0);
        
        console.log('XML formatted successfully');
        return true;
      } catch (error) {
        console.error('Error formatting XML:', error);
        alert('There was an error formatting the XML. Please check if your XML is valid.');
        return false;
      }
    },
    
    /**
     * Find text in the editor
     * @returns {boolean} - Success status
     */
    findInEditor: function() {
      const editor = this.getEditor(true); // Show editor if needed
      if (!editor) return false;
      
      // Use CodeMirror's built-in search functionality
      editor.execCommand('findPersistent');
      return true;
    }
  };
  
  //Function to find and select text based on View Element link in report record
function findElementByXPath(xpath) {
  console.log('Finding element with XPath:', xpath);
  
  // Get the editor, showing it if needed
  const editor = EditorManager.getEditor(true);
  if (!editor) {
    console.error('Could not initialize editor for XPath navigation');
    return false;
  }
  
  // Clear any existing selection before starting a new search
  editor.setCursor(editor.getCursor());
  
  // Parse the XPath to handle position indicators
  const xmlContent = editor.getValue();
  const xpathParts = xpath.split('/').filter(part => part.length > 0);
  
  let searchPos = 0;
  let foundElement = false;
  
  for (let i = 0; i < xpathParts.length; i++) {
    const part = xpathParts[i];
    const tagName = part.replace(/\[\d+\]$/, '');
    const positionMatch = part.match(/\[(\d+)\]$/);
    const position = positionMatch ? parseInt(positionMatch[1]) : 1;
    
    // Find the nth occurrence of the tag
    let count = 0;
    let tagPos = -1;
    let match;
    const tagRegex = new RegExp('<' + tagName + '(?:\\s|/|>)', 'g');
    
    while ((match = tagRegex.exec(xmlContent.substring(searchPos))) !== null && count < position) {
      count++;
      tagPos = searchPos + match.index;
      
      if (count === position) {
        searchPos = tagPos;
        
        // If this is the last part of the xpath, we've found our element
        if (i === xpathParts.length - 1) {
          foundElement = true;
        }
        break;
      }
    }
    
    // If we couldn't find the required occurrence, break
    if (count < position) {
      break;
    }
  }
  
  if (foundElement) {
    console.log('Element found, determining boundaries');
    // Find the closing tag to determine element boundaries
    const lastPart = xpathParts[xpathParts.length - 1];
    const elementName = lastPart.replace(/\[\d+\]$/, '');
    
    let depth = 1;
    let endPos = searchPos;
    
    // Search for closing tag, considering nesting
    for (let i = searchPos + 1; i < xmlContent.length && depth > 0; i++) {
      // Check for opening tag
      if (xmlContent.substring(i, i + elementName.length + 1).indexOf('<' + elementName) === 0) {
        // Make sure it's a tag and not part of text
        const nextChar = xmlContent.charAt(i + elementName.length + 1);
        if (nextChar === ' ' || nextChar === '/' || nextChar === '>') {
          depth++;
        }
      }
      // Check for closing tag
      else if (xmlContent.substring(i, i + elementName.length + 2).indexOf('</' + elementName) === 0) {
        depth--;
        if (depth === 0) {
          // Find the end of the closing tag
          const closeTagEnd = xmlContent.indexOf('>', i);
          if (closeTagEnd !== -1) {
            endPos = closeTagEnd + 1; // Length of '>'
          }
          break;
        }
      }
    }
    
    console.log('Setting CodeMirror selection');
    
    // Convert positions to line and character positions for CodeMirror
    const startPos = editor.posFromIndex(searchPos);
    const endPosition = editor.posFromIndex(endPos);
    
    // Select the element in CodeMirror - this is all we need!
    editor.setSelection(startPos, endPosition);
    
    // Calculate line positions for better centering
    const selectionHeight = endPosition.line - startPos.line;
    const visibleLines = Math.floor(350 / editor.defaultTextHeight()) - 4; // Estimate visible lines in 350px - buffer
    
    // Scroll to show the selection
    if (selectionHeight > visibleLines) {
      // For large selections, focus on the start of the selection with some padding above
      const paddingLines = Math.min(Math.floor(visibleLines * 0.3), 5); // 30% of visible area or max 5 lines
      const targetLine = Math.max(0, startPos.line - paddingLines);
      
      // Use scrollTo instead of scrollIntoView for more control
      const targetPos = editor.heightAtLine(targetLine, "local");
      editor.scrollTo(null, targetPos);
    } else {
      // For smaller selections that fit in the window, center it
      const middleLine = Math.floor((startPos.line + endPosition.line) / 2);
      
      // Calculate the ideal position
      const middleHeight = editor.heightAtLine(middleLine, "local");
      const windowMiddle = editor.getScrollInfo().clientHeight / 2;
      const targetPos = middleHeight - windowMiddle;
      
      // Ensure we don't scroll beyond document boundaries
      const maxScroll = editor.getScrollInfo().height - editor.getScrollInfo().clientHeight;
      const scrollPos = Math.max(0, Math.min(targetPos, maxScroll));
      
      // Apply the scroll
      editor.scrollTo(null, scrollPos);
    }
    
    // Set up a one-time listener to clear the selection when the user interacts
    const clearSelectionOnInteraction = () => {
      editor.setCursor(editor.getCursor()); // This clears the selection
      editor.off('cursorActivity', clearSelectionOnInteraction);
    };
    
    editor.on('cursorActivity', clearSelectionOnInteraction);
    
    console.log('Element found and selected in editor');
    return true;
  } else {
    console.log('Element not found in XML content');
    alert('Could not find the specified element. The XML structure may have changed.');
    return false;
  }
}

  /**
   * Directly save XML file using File System Access API with fallback to direct download
   * @returns {Promise<boolean>} True if save was successful
   */
  async function saveXmlDirectly() {
    try {
      // Get the editor from the manager
      const editor = EditorManager.getEditor();
      if (!editor) {
        alert('Please open the editor first.');
        return false;
      }
      
      // Get original filename and prepare default save name
      const fileInfoSpan = document.querySelector('.file-info span');
      if (!fileInfoSpan) {
        console.error('File info span not found');
        alert('Error: Could not determine filename');
        return false;
      }
      
      // Prepare filename
      const originalFileName = fileInfoSpan.textContent.trim();
      let suggestedName = 'edited_' + originalFileName;
      
      // Ensure proper file extension
      if (!suggestedName.endsWith('.xml') && !suggestedName.endsWith('.diggs')) {
        suggestedName += '.xml';
      }
      
      // Get XML content from CodeMirror
      const xmlContent = editor.getValue();
      
      // Try to use File System Access API if available
      if ('showSaveFilePicker' in window) {
        try {
          console.log('Using File System Access API');
          
          const opts = {
            suggestedName: suggestedName,
            types: [{
              description: 'XML Files',
              accept: {
                'application/xml': ['.xml', '.diggs']
              }
            }]
          };
          
          // Show native file picker dialog
          const fileHandle = await window.showSaveFilePicker(opts);
          
          // Create a writable stream and write content
          const writable = await fileHandle.createWritable();
          await writable.write(xmlContent);
          await writable.close();
          
          console.log('XML file saved successfully via File System Access API');
          return true;
        } catch (err) {
          console.error('Error using File System Access API:', err);
          
          // If user cancelled, just return
          if (err.name === 'AbortError') {
            console.log('User cancelled the file save operation');
            return false;
          }
          
          // Fall back to direct download
          console.log('Falling back to direct download');
          return downloadFile(xmlContent, suggestedName, 'application/xml');
        }
      } else {
        // Fall back to direct download
        console.log('File System Access API not supported, using direct download');
        return downloadFile(xmlContent, suggestedName, 'application/xml');
      }
    } catch (err) {
      console.error('Error in save operation:', err);
      alert('Error saving XML file: ' + err.message);
      return false;
    }
  }
  
  /**
   * Directly save CSV report using File System Access API with fallback to direct download
   * @returns {Promise<boolean>} True if save was successful
   */
  async function saveCsvDirectly() {
    try {
      // Get original filename and prepare default save name
      const fileInfoSpan = document.querySelector('.file-info span');
      if (!fileInfoSpan) {
        console.error('File info span not found');
        alert('Error: Could not determine filename');
        return false;
      }
      
      // Prepare filename
      const originalFileName = fileInfoSpan.textContent.trim();
      let suggestedName = originalFileName.replace(/\.[^/.]+$/, '') + '_validation_report.csv';
      
      // Ensure proper file extension
      if (!suggestedName.endsWith('.csv')) {
        suggestedName += '.csv';
      }
      
      // Generate CSV content
      const csvData = generateCsvContent();
      if (!csvData || csvData.length === 0) {
        console.error('Failed to generate CSV content');
        alert('Error: No validation data available to export');
        return false;
      }
      
      // Try to use File System Access API if available
      if ('showSaveFilePicker' in window) {
        try {
          console.log('Using File System Access API for CSV');
          
          const opts = {
            suggestedName: suggestedName,
            types: [{
              description: 'CSV Files',
              accept: {
                'text/csv': ['.csv']
              }
            }]
          };
          
          // Show native file picker dialog
          const fileHandle = await window.showSaveFilePicker(opts);
          
          // Create a writable stream and write content
          const writable = await fileHandle.createWritable();
          await writable.write(csvData);
          await writable.close();
          
          console.log('CSV file saved successfully via File System Access API');
          return true;
        } catch (err) {
          console.error('Error using File System Access API for CSV:', err);
          
          // If user cancelled, just return
          if (err.name === 'AbortError') {
            console.log('User cancelled the CSV file save operation');
            return false;
          }
          
          // Fall back to direct download
          console.log('Falling back to direct download for CSV');
          return downloadFile(csvData, suggestedName, 'text/csv;charset=utf-8;');
        }
      } else {
        // Fall back to direct download
        console.log('File System Access API not supported, using direct download for CSV');
        return downloadFile(csvData, suggestedName, 'text/csv;charset=utf-8;');
      }
    } catch (err) {
      console.error('Error in CSV save operation:', err);
      alert('Error saving CSV file: ' + err.message);
      return false;
    }
  }
  
  /**
   * Helper function for direct file download when File System Access API is unavailable
   * @param {string} content - File content to download
   * @param {string} filename - Suggested filename
   * @param {string} mimeType - MIME type of the file
   * @returns {boolean} True if download was initiated successfully
   */
  function downloadFile(content, filename, mimeType) {
    try {
      // Create blob and download link
      const blob = new Blob([content], { type: mimeType });
      const url = URL.createObjectURL(blob);
      
      // Create and trigger download
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      
      // Clean up
      URL.revokeObjectURL(url);
      console.log(`File "${filename}" downloaded via direct method`);
      
      return true;
    } catch (err) {
      console.error('Error in download:', err);
      alert('Could not download the file: ' + err.message);
      return false;
    }
  }
  
  /**
   * Function to generate CSV content from the validation table
   * @returns {string} CSV content
   */
  function generateCsvContent() {
    const table = document.getElementById('validation-table');
    if (!table) {
      console.error('Validation table not found');
      return '';
    }
    
    const rows = table.querySelectorAll('tr');
    if (rows.length === 0) {
      console.error('No rows found in validation table');
      return '';
    }
    
    let csv = [];
    
    // Get headers
    const headers = [];
    const headerCells = rows[0].querySelectorAll('th');
    headerCells.forEach(cell => {
      headers.push('"' + cell.textContent.trim() + '"');
    });
    csv.push(headers.join(','));
    
    // Get table data
    for (let i = 1; i < rows.length; i++) {
      // Skip hidden rows (filtered out)
      if (rows[i].style.display === 'none') continue;
      
      const row = rows[i];
      const cells = row.querySelectorAll('td');
      const rowData = [];
      
      cells.forEach((cell, index) => {
        // Special case for severity column - extract text from badge
        if (index === 0) {
          const badge = cell.querySelector('.severity-badge');
          if (badge) {
            rowData.push('"' + badge.textContent.trim() + '"');
          } else {
            rowData.push('""');
          }
        } 
        // Special case for location column - extract path from tooltip
        else if (index === 1 && cell.querySelector('.tooltip')) {
          const tooltip = cell.querySelector('.tooltiptext');
          rowData.push('"' + (tooltip ? tooltip.textContent.trim() : '') + '"');
        }
        // Element value column - extract text without HTML
        else if (index === 4) {
          const preElement = cell.querySelector('pre');
          rowData.push('"' + (preElement ? preElement.textContent.replace(/"/g, '""') : '') + '"');
        }
        // Regular columns
        else {
          rowData.push('"' + cell.textContent.trim().replace(/"/g, '""') + '"');
        }
      });
      
      csv.push(rowData.join(','));
    }
    
    return csv.join('\n');
  }
  
  /**
   * Filter table rows by severity
   * @param {string} severity - Severity to filter by ('all', 'error', 'warning', 'info')
   */
  function filterBySeverity(severity) {
    const table = document.getElementById('validation-table');
    if (!table) {
      console.error('Validation table not found');
      return;
    }
    
    const tbody = table.getElementsByTagName('tbody')[0];
    if (!tbody) {
      console.error('Table body not found');
      return;
    }
    
    const rows = tbody.getElementsByTagName('tr');
    
    for (let i = 0; i < rows.length; i++) {
      const row = rows[i];
      if (severity === 'all') {
        row.style.display = '';
      } else {
        const severityCell = row.getElementsByTagName('td')[0];
        if (!severityCell) continue;
        
        const badge = severityCell.querySelector('.severity-badge');
        if (!badge) continue;
        
        const severityText = badge.textContent.trim().toLowerCase();
        
        if (severityText === severity) {
          row.style.display = '';
        } else {
          row.style.display = 'none';
        }
      }
    }
  }
  
  // Set up event listeners for all interactive elements
  function setupEventListeners() {
    console.log('Setting up event listeners');
    
    // Editor toggle button
    const toggleEditorBtn = document.getElementById('toggle-editor');
    if (toggleEditorBtn) {
      toggleEditorBtn.addEventListener('click', () => EditorManager.toggleVisibility());
    } else {
      console.error('Toggle editor button not found');
    }
    
    // Save XML button
    const saveXmlBtn = document.getElementById('save-xml');
    if (saveXmlBtn) {
      saveXmlBtn.addEventListener('click', saveXmlDirectly);
    } else {
      console.error('Save XML button not found');
    }
    
    // Format XML button
    const formatXmlBtn = document.getElementById('format-xml');
    if (formatXmlBtn) {
      formatXmlBtn.addEventListener('click', () => EditorManager.formatXml());
    } else {
      console.error('Format XML button not found');
    }
    
    // Find button
    const findXmlBtn = document.getElementById('find-xml');
    if (findXmlBtn) {
      findXmlBtn.addEventListener('click', () => EditorManager.findInEditor());
    } else {
      console.error('Find XML button not found');
    }
    
    // Export CSV button
    const exportCsvBtn = document.getElementById('export-csv');
    if (exportCsvBtn) {
      exportCsvBtn.addEventListener('click', () => saveCsvDirectly());
    } else {
      console.error('Export CSV button not found');
    }
    
    // Set up XPath links
    const xpathLinks = document.querySelectorAll('.xpath-link');
    console.log('Found XPath links:', xpathLinks.length);
    
    xpathLinks.forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        const xpath = link.getAttribute('data-xpath');
        if (xpath) {
          console.log('Navigating to XPath:', xpath);
          findElementByXPath(xpath);
        } else {
          console.error('No XPath data attribute found');
        }
      });
    });
    
    // Set up severity filter
    const severityFilter = document.getElementById('severity-filter');
    if (severityFilter) {
      severityFilter.addEventListener('change', function() {
        filterBySeverity(this.value);
      });
    } else {
      console.error('Severity filter dropdown not found');
    }
    
    console.log('Event listeners set up successfully');
  }
  
  // Initialize everything
  setupEventListeners();
  
  // Initial filter
  const severityFilter = document.getElementById('severity-filter');
  if (severityFilter) {
    filterBySeverity(severityFilter.value);
  } else {
    console.error('Severity filter dropdown not found');
  }
  
  console.log('Initialization complete');
});

        </script></body>
</html>